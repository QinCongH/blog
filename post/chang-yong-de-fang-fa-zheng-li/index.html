<html>

<head>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>å¸¸ç”¨å·¥å…·æ–¹æ³•ï¼ŒDomèŠ‚ç‚¹æ“ä½œ | ç¦¾è€³</title>
<link rel="shortcut icon" href="https://qin_hu.gitee.io/blog//favicon.ico?v=1714022378479">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://qin_hu.gitee.io/blog//styles/main.css">
<link rel="alternate" type="application/atom+xml" title="å¸¸ç”¨å·¥å…·æ–¹æ³•ï¼ŒDomèŠ‚ç‚¹æ“ä½œ | ç¦¾è€³ - Atom Feed" href="https://qin_hu.gitee.io/blog//atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



  <meta name="description" content="å·¥å…·æ–¹æ³•
1.éšæœºè·å–æ•°ç»„å…ƒç´ 
  const randomIndex=(arr)=&gt;{
      return arr[Math.floor((Math.random() * arr.length))]
  }
//ä½¿ç”¨
let ..." />
  <meta name="keywords" content="es6" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
  <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"> -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script> -->

  <!-- and it's easy to individually load additional languages -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/night-owl.min.css">


</head>

<body>
  <div class="main">
    <div class="main-content">
      <div class="site-header">
  <a href="https://qin_hu.gitee.io/blog/">
    <img class="avatar" src="https://qin_hu.gitee.io/blog//images/avatar.png?v=1714022378479" alt="">
  </a>

  <h1 class="site-title">
    ç¦¾è€³
  </h1>
  <p class="site-description">
    é€†é£çš„æ–¹å‘ï¼Œæ›´é€‚åˆé£ç¿”ã€‚
  </p>
  <form style=" position: absolute;
  top: 50px;
  right: 150px;
  border: unset;
  outline: unset;display: flex;" id="gridea-search-form" action="https://qin_hu.gitee.io/blog//search/">
    <input placeholder="è¯·è¾“å…¥.." style="color: #222 !important;margin-right: 10px;
   " name="q" />
    <svg onclick="window.location.reload()" style="
    cursor: pointer;    filter: invert(1);" title="åˆ·æ–°é¡µé¢" class="shuaxin-icon" t="1705541456452" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
      p-id="4229" width="20" height="20">
      <path
        d="M55.935033 264.48948c0 0 85.897017-132.548409 221.81443-203.673173 135.916406-71.121743 303.368504-50.646859 413.187968 18.319527 109.819465 68.970415 146.791894 127.160016 146.791894 127.160016l94.59499-53.879895c0 0 19.576483-9.697092 19.576483 12.932142l0 338.379961c0 0 0 30.17399-22.837719 19.395191-19.210878-9.062571-226.959086-127.198289-292.424528-164.466828-35.950145-16.035251-4.365101-29.062068-4.365101-29.062068l91.284402-52.173738c0 0-52.068992-65.209619-128.278989-99.744682-81.576231-42.501826-157.948384-47.541735-251.497925-12.224097-61.002644 23.025054-132.823368 81.988166-184.553949 169.082716L55.935033 264.48948 55.935033 264.48948 55.935033 264.48948zM904.056909 711.697844c0 0-85.897017 132.550423-221.816444 203.671159-135.917413 71.12275-303.366489 50.651895-413.186961-18.315498-109.825508-68.972429-146.790886-127.165052-146.790886-127.165052L27.662591 823.768348c0 0-19.572454 9.703135-19.572454-12.932142L8.090137 472.459267c0 0 0-30.170968 22.831676-19.397205 19.211885 9.067607 226.965129 127.198289 292.430571 164.470856 35.950145 16.035251 4.366109 29.058039 4.366109 29.058039l-91.285409 52.175753c0 0 52.071006 65.206598 128.279996 99.744682 81.57321 42.498804 157.942341 47.540728 251.496918 12.222082 60.998616-23.026061 132.820346-81.983131 184.546898-169.082716L904.056909 711.697844 904.056909 711.697844 904.056909 711.697844zM904.056909 711.697844"
        fill="#2c2c2c" p-id="4230"></path>
    </svg>
  </form>
  <button style="    border: unset;
  background: #f0f8ff00;cursor: pointer;" class="theme-button" onclick="changeTheme()">
    ğŸŒ™
  </button>
  <div class="menu-container">
    
    
    <a href="https://qin_hu.gitee.io/blog/" class="menu">
      é¦–é¡µ
    </a>
    
    
    
    <a href="https://qin_hu.gitee.io/blog/archives" class="menu">
      å½’æ¡£
    </a>
    
    
    
    <a href="https://qin_hu.gitee.io/blog/tags" class="menu">
      æ ‡ç­¾
    </a>
    
    
    
    <a href="https://qin_hu.gitee.io/blog/friend" class="menu">
      å‹é“¾
    </a>
    
    
    
    <a href="https://qin_hu.gitee.io/blog/about" class="menu">
      å…³äº
    </a>
    
    
  </div>
  <div class="social-container">
    
    
    <a href="https://github.com/QinCongH" target="_blank">
      <i class="ri-github-line"></i>
    </a>
    
    
    
    
    
    
    
    
    
    
  </div>
</div>
<script>
  window.addEventListener('load', () => {
    const themeType = localStorage.getItem('theme')
    const bodyDom = document.querySelector('body')
    const themeButtonDom = document.querySelector('.theme-button')
    // console.log(1111111111111111, themeType)
    if (themeType === 'light') {
      bodyDom.removeAttribute('thmem-dark')
      themeButtonDom.textContent = 'ğŸŒ™'
      localStorage.setItem('theme', 'light')
    } else {
      bodyDom.setAttribute('thmem-dark', '')
      themeButtonDom.textContent = 'ğŸŒ'
      localStorage.setItem('theme', 'dark')
    }
  })

  function changeTheme() {
    const bodyDom = document.querySelector('body')
    const themeButtonDom = document.querySelector('.theme-button')
    const attr = bodyDom.hasAttribute('thmem-dark')
    if (attr) {
      bodyDom.removeAttribute('thmem-dark')
      themeButtonDom.textContent = 'ğŸŒ™'
      localStorage.setItem('theme', 'light')
    } else {
      bodyDom.setAttribute('thmem-dark', '')
      themeButtonDom.textContent = 'ğŸŒ'
      localStorage.setItem('theme', 'dark')
    }
  }
</script>
      <div class="post-detail">
        <article class="post">
          <h2 class="post-title">
            å¸¸ç”¨å·¥å…·æ–¹æ³•ï¼ŒDomèŠ‚ç‚¹æ“ä½œ
          </h2>
          <div class="post-info">
            <span>
              2023-12-11
            </span>
            <span>
              22 min read
            </span>
            
            <a href="https://qin_hu.gitee.io/blog/tag/YEr5SsLJh/" class="post-tag">
              # es6
            </a>
            
          </div>
          
          <div class="post-content-wrapper">
            <div class="post-content" v-pre>
              <h1 id="å·¥å…·æ–¹æ³•">å·¥å…·æ–¹æ³•</h1>
<h2 id="1éšæœºè·å–æ•°ç»„å…ƒç´ ">1.éšæœºè·å–æ•°ç»„å…ƒç´ </h2>
<pre><code>  const randomIndex=(arr)=&gt;{
      return arr[Math.floor((Math.random() * arr.length))]
  }
//ä½¿ç”¨
let arr=[1,2,3,4,5]
console.log(randomIndex(arr))
</code></pre>
<h2 id="2è·å–olsonæ—¶åŒº">2.è·å–Olsonæ—¶åŒº</h2>
<pre><code>function getTimeZone() {
		let time = new Date();
		let timeZone = time.toLocaleTimeString('en-us', {
			timeZoneName: 'short'
		}); //'1:12:38 PM GMT+8'
		return Intl.DateTimeFormat().resolvedOptions().timeZone; //'Asia/Shanghai'
	}
</code></pre>
<h2 id="3è·å–æœªæ¥æ—¥æœŸè¯¦æƒ…">3.è·å–æœªæ¥æ—¥æœŸè¯¦æƒ…</h2>
<pre><code>      const getTimeList=(num)=&gt; { //numä¸ºæœªæ¥çš„ç¬¬å‡ å¤©
                let time = new Date()
                let date = new Date(time.setDate(time.getDate() + num)).getDate()
                let month = time.getMonth() + 1 // è·å–æœˆä»½
                let day = time.getDay() //  è·å–æ˜ŸæœŸ
                switch (day) { //  æ ¼å¼åŒ–
                    case 0:
                        day = &quot;æ˜ŸæœŸæ—¥&quot;
                        break
                    case 1:
                        day = &quot;æ˜ŸæœŸä¸€&quot;
                        break
                    case 2:
                        day = &quot;æ˜ŸæœŸäºŒ&quot;
                        break
                    case 3:
                        day = &quot;æ˜ŸæœŸä¸‰&quot;
                        break
                    case 4:
                        day = &quot;æ˜ŸæœŸå››&quot;
                        break
                    case 5:
                        day = &quot;æ˜ŸæœŸäº”&quot;
                        break
                    case 6:
                        day = &quot;æ˜ŸæœŸå…­&quot;
                        break
                }
                let obj = {
                    date,
                    day,
                    month
                }
                return obj
            }
      for(let i=0;i&lt;7;i++){ //è·å–å¾€åçš„7å¤©
         console.log(getTimeList(i))
      }

</code></pre>
<h2 id="4æ ¹æ®æ—¶é—´æˆ³è·å–24è¿›åˆ¶çš„æ—¶åˆ†">4.æ ¹æ®æ—¶é—´æˆ³è·å–24è¿›åˆ¶çš„æ—¶åˆ†</h2>
<pre><code>	const timeConversion=(getTime)=&gt; { //æ¥æ”¶ä¸€ä¸ªæ—¶é—´æˆ³
				const date = new Date()
				let t = new Date(getTime)
				let res =`${t.getHours()&lt;10?'0'+t.getHours():t.getHours()}:${t.getMinutes()&lt;10?'0'+t.getMinutes():t.getMinutes()}`
				return res
			}
console.log(timeConversion(1658932196000))
</code></pre>
<h2 id="5æ¯”è¾ƒä¸¤ä¸ªæ—¶é—´å¤§å°">5.æ¯”è¾ƒä¸¤ä¸ªæ—¶é—´å¤§å°</h2>
<pre><code>		const compareTime=(date1, date2)=&gt; {
				var oDate1 = new Date(date1);
				var oDate2 = new Date(date2);
				if (oDate1.getTime() &gt; oDate2.getTime()) {
					return 1; //ç¬¬ä¸€ä¸ªå¤§
				} else if (oDate1.getTime() &lt; oDate2.getTime()) {
					return 2; //ç¬¬äºŒä¸ªå¤§
				} else if (oDate1.getTime() == oDate2.getTime()) {
					return 3; //ç›¸ç­‰
				}
			}

console.log(compareTime('2015-1-1', '2015-1-11'))
console.log(compareTime('2015-10-12 00:00:00', '2015-09-11 11:23:12'))
</code></pre>
<h2 id="6æ ¹æ®å¯Œæ–‡æœ¬æ‹¿åˆ°imgçš„srcæ ‡ç­¾å†…å®¹">6.æ ¹æ®å¯Œæ–‡æœ¬æ‹¿åˆ°imgçš„srcæ ‡ç­¾å†…å®¹</h2>
<pre><code>function getExecStrs1(content){
        let data = [];
      content.replace(/&lt;img [^&gt;]*src=['&quot;]([^'&quot;]+)[^&gt;]*&gt;/g, function (match, capture) {
        let index = capture.lastIndexOf(&quot;/&quot;);
        capture = capture.substring(index + 1);
        data.push(capture);
      });
      return data;
}
 console.log(getExecStrs1(&quot;&lt;img src='fsadfsdfsdfsdfsdfsd.jpg'&gt;&quot;))
// æ–¹æ³•2
function getExecStrs2(content){
      let imgReg = /&lt;img.*?(?:&gt;|\/&gt;)/gi; //åŒ¹é…å›¾ç‰‡ä¸­çš„imgæ ‡ç­¾
      let srcReg = /src=[\'\&quot;]?([^\'\&quot;]*)[\'\&quot;]?/i; // åŒ¹é…å›¾ç‰‡ä¸­çš„src
      let arr = content.match(imgReg); //ç­›é€‰å‡ºæ‰€æœ‰çš„img
      let srcArr = [];
      for (let i = 0; i &lt; arr?.length; i++) {
        let src = arr[i].match(srcReg);
        // è·å–å›¾ç‰‡åœ°å€
        srcArr.push(src[1]);
      }
      return srcArr;
}
</code></pre>
<h2 id="7æ ¹æ®å¹´æœˆæ—¥è·å–æ—¶é—´æˆ³">7.æ ¹æ®å¹´æœˆæ—¥è·å–æ—¶é—´æˆ³</h2>
<pre><code>		function getTimeStamp({ //æ¥å— month: 1-12 ï¼› day :1-31 ; year: 1000-9999
				monthVal,
				dayVal,
				yearVal
			}) {
				let sm = monthVal.length == 1 ?
					`0${monthVal}` :
					monthVal
				let sd = dayVal.length == 1 ? `0${dayVal}` :
					dayVal
				let sT = `${yearVal}/${sm}/${sd}`
				return Date.parse(sT)
			}
console.log(getTimeStamp({monthVal:11,dayVal:23,yearVal:2022}))

</code></pre>
<h2 id="8å°†htmlä»£ç è½¬æ¢æœªçº¯æ–‡æœ¬">8.å°†htmlä»£ç è½¬æ¢æœªçº¯æ–‡æœ¬</h2>
<pre><code>    const toText = (html) =&gt; {
      //å°†htmlä»£ç è½¬æ¢æœªçº¯æ–‡æœ¬
      return html
        .replace(/&lt;(style|script|iframe)[^&gt;]*?&gt;[\s\S]+?&lt;\/\1\s*&gt;/gi, &quot;&quot;)
        .replace(/&lt;[^&gt;]+?&gt;/g, &quot;&quot;)
        .replace(/\s+/g, &quot; &quot;)
        .replace(/ /g, &quot; &quot;)
        .replace(/&gt;/g, &quot; &quot;);
    };
console.log(toText('&lt;h1&gt;fsdfsdfsdf&lt;/h1&gt;'))
</code></pre>
<h2 id="9è®¡ç®—ä¸¤ä¸ªæ—¶é—´ç›¸å·®çš„å¤©æ•°-å°æ—¶">9.è®¡ç®—ä¸¤ä¸ªæ—¶é—´ç›¸å·®çš„å¤©æ•°ã€å°æ—¶</h2>
<pre><code>		const timediff=(begin_time, end_time) =&gt;{//è®¡ç®—æ—¶é—´å·®ï¼ˆåˆ†/ç§’ï¼‰ç©¿æ—¶é—´æˆ³
				//å¹´æœˆæ—¥æ—¶åˆ†ç§’è½¬æ¢ä¸ºæ—¶é—´æˆ³
				let beginTime = (new Date(begin_time).getTime()) / 1000;
				let endTime = (new Date(end_time).getTime()) / 1000;
				var starttime = ''
				var endtime = ''
				if (beginTime &lt; endTime) {
					starttime = beginTime;
					endtime = endTime;
				} else {
					starttime = endTime;
					endtime = beginTime;
				}
				//è®¡ç®—å¤©æ•°
				var timediff = endtime - starttime;
				var days = parseInt(timediff / 86400);
			 //è®¡ç®—å°æ—¶æ•°
				var remain = timediff % 86400;
				var hours = parseInt(remain / 3600);
				//è®¡ç®—åˆ†é’Ÿæ•°
				var remain = remain % 3600;
				var mins = parseInt(remain / 60);
				var res = days + 'å¤©' + hours + 'å°æ—¶' + mins + 'åˆ†';
				// &quot;ç›¸å·®&quot; + day + &quot;å¤©&quot; + hour + &quot;å°æ—¶&quot; + minute + &quot;åˆ†&quot;;
				return res
			}
</code></pre>
<h2 id="10æ ¹æ®å¤©æ•°å¾—åˆ°æ—¥æœŸæè¿°æ ¼å¼">10.æ ¹æ®å¤©æ•°,å¾—åˆ°æ—¥æœŸæè¿°æ ¼å¼</h2>
<pre><code>   const getDateFormatText = (num) =&gt; { //æ ¹æ®å¤©æ•°,å¾—åˆ°æ—¥æœŸæè¿°æ ¼å¼
       if (num &gt;= 365) {
        if (Math.floor(num / 365) == 1) {
         return `${(num/365).toFixed(0)} year`
        } else {
         return `${(num/365).toFixed(0)} years`
        }
       }
       if (num &gt; 90 &amp;&amp; num &lt; 365) {
        if (Math.floor(num / 30) == 1) {
         return `${(num/30).toFixed(0)} month`
        } else {
         return `${(num/30).toFixed(0)} months`
        }
       }
     if (num &lt;= 90) {
        if (num == 1) {
         return `${num} day`
        } else {
         return `${num} days`
        }
       }

      }
      console.log(getDateFormatText(1))
				/*
				// æ•°å­—ä¸º 1 æ—¶ï¼Œç”¨å•æ•°
				// day/month/year
				// ï¬ æ•°å­—å¤§äº 1 æ—¶ï¼Œç”¨å¤æ•°
				// days/months/years
				// ï¬ ç›¸å·®å¤šå°‘å¤©ï¼ˆ90 å¤©ä»¥å†…): ç”¨
				// å¤©æ•° day(s)
				// ï¬ ç›¸å·®å‡ ä¸ªæœˆï¼ˆè¶…è¿‡ 90 å¤©):
				// ç”¨æœˆæ•° month(s)
				// ï¬ ç›¸å·®å‡ å¹´ï¼ˆè¶…è¿‡ 11 ä¸ªæœˆ):
				// ç”¨å¹´æ•° year(s)
				*/
</code></pre>
<h2 id="11è·å–éšæœºid">11.è·å–éšæœºid</h2>
<pre><code>				const generateId = () =&gt; { //è·å–éšæœºid
						const s = [];
						const hexDigits = '0123456789abcdef';
						for (let i = 0; i &lt; 36; i++) {
							s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
						}
						// bits 12-15 of the time_hi_and_version field to 0010
						s[14] = '4';
						// bits 6-7 of the clock_seq_hi_and_reserved to 01
						s[19] = hexDigits.substr((s[19] &amp; 0x3) | 0x8, 1);
						s[8] = s[13] = s[18] = s[23] = '-';
						const uuid = s.join('');
						return uuid;
					}
</code></pre>
<h2 id="12è·å–æ—¶é—´é€‰æ‹©listå¹´æœˆæ—¥">12.è·å–æ—¶é—´é€‰æ‹©listï¼ˆå¹´æœˆæ—¥ï¼‰</h2>
<pre><code>// è·å–å‰åå¹´æ•°åˆ—è¡¨
				const getYearsToNow = (sNum, eNum) =&gt; {
					//è®¾ç½®å¹´ä»½çš„é€‰æ‹© 

					let myDate = new Date();
					let startYear = myDate.getFullYear() - sNum; //èµ·å§‹å¹´ä»½ 
					let endYear = myDate.getFullYear() + eNum; //ç»“æŸå¹´ä»½
					let yearList = []
					for (let i = startYear; i &lt;= endYear; i++) {
						yearList.push(i)
					}
					return yearList
				}

				const getMonthList = () =&gt; {
					let monthList = []
					for (let i = 1; i &lt;= 12; i++) {
						monthList.push(i)
					}
					return monthList
				}

				const getDayList = (year, month) =&gt; {
					let myDate = new Date()
					if (year == undefined || year == null || year=='') {
						year = myDate.getFullYear()
					}
					if (month == undefined || month == null || month=='') {
						month = 1
					}
					let time = new Date(year, month, 0)
					let dayList = []
					for (let i = 1; i &lt;= time.getDate(); i++) {
						dayList.push(i)
					}
					return dayList
				}
</code></pre>
<h2 id="13åˆ¤æ–­ä¸€ä¸ªæ•°ç»„ä¸­å…ƒç´ æ˜¯å¦åœ¨å¦ä¸€ä¸ªæ•°ç»„ä¸­éƒ½å­˜åœ¨">13.åˆ¤æ–­ä¸€ä¸ªæ•°ç»„ä¸­å…ƒç´ æ˜¯å¦åœ¨å¦ä¸€ä¸ªæ•°ç»„ä¸­éƒ½å­˜åœ¨</h2>
<pre><code>const compareArr=(arr1,arr2)=&gt;{
  //@ arr2ä¸­æ˜¯å¦æœ‰arr1çš„å…ƒç´ 
  //@ã€€æ¥æ”¶æ•°ç»„æˆ–è€…æ•°ç»„å˜é‡
  if(arr1.length&lt;=arr2.length){
    let i=null;
    i=arr1;
    arr1=arr2;
    arr2=i;
  }
  let isVal=null;
  let idx=arr2.length
  let a=0
  arr2.forEach(item=&gt;{
    if(Object.prototype.toString.call(item) === '[object Object]'){
      arr1.forEach(val=&gt;{
        if(Object.keys(val)[0]==Object.keys(item)[0]&amp;&amp;Object.values(val)[0]==Object.values(item)[0]){
          a++
        }
      })

    }else{
      if(arr1.includes(item)){
        a++
      }
    }
  })
    if(idx!==a){
        return 0
      }else{
        return 1
      }
}
console.log(compareArr([{a:2},{a:1}],[{a:2},{a:1},{a:3}]))  //1
console.log(compareArr([4,23],[2,3,4]))  //0
</code></pre>
<h2 id="14æ·±åº¦æ‹·è´å’Œæµ…æ‹·è´">14.æ·±åº¦æ‹·è´å’Œæµ…æ‹·è´</h2>
<pre><code>/*@1.å®ç°æµ…æ‹·è´
æµ…æ‹·è´ï¼ŒæŒ‡çš„æ˜¯åˆ›å»ºæ–°çš„æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®æœ‰ç€åŸå§‹æ•°æ®å±æ€§å€¼çš„ä¸€ä»½ç²¾ç¡®æ‹·è´
å¦‚æœå±æ€§æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ã€‚å¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€
å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€ä¼šä¿®æ”¹åŸå§‹å¯¹è±¡çš„å€¼ 
Object.assign
*/
const shallowClone=(obj)=&gt;{
  return Object.assign({},obj)
}
/*
@2.æ·±åº¦æ‹·è´
æ·±æ‹·è´å¼€è¾Ÿä¸€ä¸ªæ–°çš„æ ˆï¼Œä¸¤ä¸ªå¯¹è±¡å±å®Œæˆç›¸åŒï¼Œä½†æ˜¯å¯¹åº”ä¸¤ä¸ªä¸åŒçš„åœ°å€ï¼Œä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œä¸ä¼šæ”¹å˜å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§
*/
const deepClone=(obj, hash = new WeakMap())=&gt; {
  if (obj === null) return obj; // å¦‚æœæ˜¯nullæˆ–è€…undefinedæˆ‘å°±ä¸è¿›è¡Œæ‹·è´æ“ä½œ
  if (obj instanceof Date) return new Date(obj);
  if (obj instanceof RegExp) return new RegExp(obj);
  // å¯èƒ½æ˜¯å¯¹è±¡æˆ–è€…æ™®é€šçš„å€¼  å¦‚æœæ˜¯å‡½æ•°çš„è¯æ˜¯ä¸éœ€è¦æ·±æ‹·è´
  if (typeof obj !== &quot;object&quot;) return obj;
  // æ˜¯å¯¹è±¡çš„è¯å°±è¦è¿›è¡Œæ·±æ‹·è´
  if (hash.get(obj)) return hash.get(obj);
  let cloneObj = new obj.constructor();
  // æ‰¾åˆ°çš„æ˜¯æ‰€å±ç±»åŸå‹ä¸Šçš„constructor,è€ŒåŸå‹ä¸Šçš„ constructoræŒ‡å‘çš„æ˜¯å½“å‰ç±»æœ¬èº«
  hash.set(obj, cloneObj);
  for (let key in obj) {
    if (obj.hasOwnProperty(key)) {
      // å®ç°ä¸€ä¸ªé€’å½’æ‹·è´
      cloneObj[key] = deepClone(obj[key], hash);
    }
  }
  return cloneObj;
}
let obj={
  a:1,
  b:[1,2,3]
}
let shallowObj=shallowClone(obj)  //æµ…æ‹·è´
let deepObj=deepClone(obj)  //æ·±åº¦æ‹·è´  V
console.log(shallowObj)
console.log(deepObj)
</code></pre>
<h2 id="15åˆ¤æ–­æ•°æ®ç±»å‹">15.åˆ¤æ–­æ•°æ®ç±»å‹</h2>
<pre><code>function getType(obj){
  let type  = typeof obj;
  if (type !== &quot;object&quot;) {    // å…ˆè¿›è¡Œtypeofåˆ¤æ–­ï¼Œå¦‚æœæ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œç›´æ¥è¿”å›
    return type;
  }
  // å¯¹äºtypeofè¿”å›ç»“æœæ˜¯objectçš„ï¼Œå†è¿›è¡Œå¦‚ä¸‹çš„åˆ¤æ–­ï¼Œæ­£åˆ™è¿”å›ç»“æœ
  return Object.prototype.toString.call(obj).replace(/^\[object (\S+)\]$/, '$1'); 
}
console.log(getType(null)) //&quot;Null&quot;
console.log(getType(1)) //&quot;number&quot;
console.log(getType(&quot;as&quot;)) //&quot;string&quot;
console.log(getType(true)) //&quot;boolean&quot;
console.log(getType([])) //&quot;Array&quot;
console.log(getType({})) //&quot;Object&quot;
console.log(getType(undefined)) //&quot;undefined&quot;
console.log(getType(NaN))//&quot;number&quot;
</code></pre>
<h2 id="16åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾é€—å·">16.åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾é€—å·</h2>
<pre><code>	const checkEnd=(msg)=&gt; {//æ¥æ”¶æ ¼å¼: '1,1,1'
				return parseFloat(msg).toString()
				}
  
  console.log(checkEnd('1,1'))//&quot;1&quot;
 console.log(checkEnd('1.1,,,,,'))//&quot;1.1&quot;
</code></pre>
<h2 id="17æ•°ç»„å¯¹è±¡æ’åº">17.æ•°ç»„å¯¹è±¡æ’åº</h2>
<pre><code>const bubbleSort=(array, val,type='asc') =&gt;{  //ascå‡åº descé™åº
  if(type == &quot;asc&quot;){
    // å‡åº
    for (var i = 0; i &lt; array.length - 1; i++) {
      //æ¯ä¸€è½®æ¯”è¾ƒè¦æ¯”å¤šå°‘æ¬¡
      for (var j = 0; j &lt; array.length - 1 - i; j++) {
        //å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªä½ç½®
        if (array[j][val] &gt; array[j + 1][val]) {
          // ä¸´æ—¶å­˜å‚¨æ¯”è¾ƒå¤§çš„é‚£ä¸€ä½æ•°
          var temp = array[j]
          array[j] = array[j + 1]
          array[j + 1] = temp
        }
      }
    }
  }else{
    // é™åº
    for (var i = 0; i &lt; array.length - 1; i++) {
      //æ¯ä¸€è½®æ¯”è¾ƒè¦æ¯”å¤šå°‘æ¬¡
      for (var j = 0; j &lt; array.length - 1 - i; j++) {
        //å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªä½ç½®
        if (array[j][val] &lt; array[j + 1][val]) {
          // ä¸´æ—¶å­˜å‚¨æ¯”è¾ƒå¤§çš„é‚£ä¸€ä½æ•°
          var temp = array[j]
          array[j] = array[j + 1]
          array[j + 1] = temp
        }
      }
    }
  }
  return array;
}

let arr=[{id:4,name:'aa'},{id:3,name:'bb'},{id:1,name:'cc'},{id:2,name:'dd'}]
console.log(bubbleSort(arr,'id','asc')) 
</code></pre>
<h2 id="18è·å–èŒƒå›´å†…çš„éšæœºæ•°">18.è·å–èŒƒå›´å†…çš„éšæœºæ•°</h2>
<pre><code>function random(min, max) {
    return Math.floor(Math.random() * (max - min)) + min;
}
console.log(random(1, 8))
</code></pre>
<h2 id="19å¸¸ç”¨æ­£åˆ™">19.å¸¸ç”¨æ­£åˆ™</h2>
<pre><code>export const myRegExp = {
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºåˆæ³•QQå·ç 
    isQQ: function (str) {
        // 1 é¦–ä½ä¸èƒ½æ˜¯0  ^[1-9]
        // 2 å¿…é¡»æ˜¯ [5, 11] ä½çš„æ•°å­—  \d{4, 9}
        var reg = /^[1-9][0-9]{4,9}$/gim;
        if (reg.test(str)) {
            console.log(&quot;QQå·ç æ ¼å¼è¾“å…¥æ­£ç¡®&quot;);
            return true;
        } else {
            console.log(&quot;è¯·è¾“å…¥æ­£ç¡®æ ¼å¼çš„QQå·ç &quot;);
            return false;
        }
    },
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºåˆæ³•æ‰‹æœºå·ç 
    isPhone: function (str) {
        var reg = /^(0|86|17951)?(13[0-9]|15[012356789]|18[0-9]|14[57]|17[678])[0-9]{8}$/;
        if (reg.test(str)) {
            console.log(&quot;æ‰‹æœºå·ç æ ¼å¼è¾“å…¥æ­£ç¡®&quot;);
            return true;
        } else {
            console.log(&quot;è¯·è¾“å…¥æ­£ç¡®æ ¼å¼çš„æ‰‹æœºå·ç &quot;);
            return false;
        }
    },
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºåˆæ³•Emailåœ°å€
    isEmail: function (str) {
        var reg = /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;
        // var reg = /\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;
        if (reg.test(str)) {
            console.log(&quot;Emailæ ¼å¼è¾“å…¥æ­£ç¡®&quot;);
            return true;
        } else {
            console.log(&quot;è¯·è¾“å…¥æ­£ç¡®æ ¼å¼çš„Email&quot;);
            return false;
        }
    },
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯æ•°å­—
    isNumber: function (str) {
        var reg = /^\d+$/;
        if (reg.test(str)) {
            console.log(str + &quot;æ˜¯æ•°å­—&quot;);
            return true;
        } else {
            console.log(str + &quot;ä¸æ˜¯æ•°å­—&quot;);
            return false;
        }
    },
    // å»æ‰å‰åç©ºæ ¼
    trim: function (str) {
        var reg = /^\s+|\s+$/g;
        return str.replace(reg, &quot;&quot;);
    },
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨ä¸­æ–‡
    isChinese: function (str) {
        var reg = /[\u4e00-\u9fa5]/gm;
        if (reg.test(str)) {
            console.log(str + &quot; ä¸­å­˜åœ¨ä¸­æ–‡&quot;);
            return true;
        } else {
            console.log(str + &quot; ä¸­ä¸å­˜åœ¨ä¸­æ–‡&quot;);
            return false;
        }
    },
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºåˆæ³•é‚®æ”¿ç¼–ç 
    isPostcode: function (str) {
        // èµ·å§‹æ•°å­—ä¸èƒ½ä¸º0ï¼Œç„¶åæ˜¯5ä¸ªæ•°å­—  [1-9]\d{5}
        var reg = /^[1-9]\d{5}$/g;
        // var reg = /^[1-9]\d{5}(?!\d)$/;
        if (reg.test(str)) {
            console.log(str + &quot; æ˜¯åˆæ³•çš„é‚®ç¼–æ ¼å¼&quot;);
            return true;
        } else {
            console.log(str + &quot; æ˜¯ä¸åˆæ³•çš„é‚®ç¼–æ ¼å¼&quot;);
            return false;
        }
    },
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºåˆæ³•èº«ä»½è¯å·ç 
    isIDcard: function (str) {
        var reg = /^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;
        if (reg.test(str)) {
            console.log(str + &quot; æ˜¯åˆæ³•çš„èº«ä»½è¯å·ç &quot;);
            return true;
        } else {
            console.log(str + &quot; æ˜¯ä¸åˆæ³•çš„èº«ä»½è¯å·ç &quot;);
            return false;
        }
    },
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºåˆæ³•URL
    isURL: function (str) {
        var reg = /^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&amp;?[a-zA-Z0-9_-](\?)?)*)*$/i;
        if (reg.test(str)) {
            console.log(str + &quot; æ˜¯åˆæ³•çš„URL&quot;);
            return true;
        } else {
            console.log(str + &quot; æ˜¯ä¸åˆæ³•çš„URL&quot;);
            return false;
        }
    },
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºåˆæ³•æ—¥æœŸæ ¼å¼ yyyy-mm-dd
    isDate: function (str) {
        var reg = /^[1-2][0-9][0-9][0-9]-[0-1]{0,1}[0-9]-[0-3]{0,1}[0-9]$/;
        if (reg.test(str)) {
            console.log(str + &quot; æ˜¯åˆæ³•çš„æ—¥æœŸæ ¼å¼&quot;);
            return true;
        } else {
            console.log(str + &quot; æ˜¯ä¸åˆæ³•çš„æ—¥æœŸæ ¼å¼ï¼Œyyyy-mm-dd&quot;);
            return false;
        }
    },
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºåˆæ³•IPåœ°å€
    isIP: function (str) {
        // 1.1.1.1  å››æ®µ  [0 , 255]
        // ç¬¬ä¸€æ®µä¸èƒ½ä¸º0
        // æ¯ä¸ªæ®µä¸èƒ½ä»¥0å¼€å¤´
        //
        // æœ¬æœºIP: 58.50.120.18 æ¹–åŒ—çœè†å·å¸‚ ç”µä¿¡
        var reg = /^([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}$/gi;
        if (reg.test(str)) {
            console.log(str + &quot; æ˜¯åˆæ³•çš„IPåœ°å€&quot;);
            return true;
        } else {
            console.log(str + &quot; æ˜¯ä¸åˆæ³•çš„IPåœ°å€&quot;);
            return false;
        }
    },
};
</code></pre>
<h2 id="20æ ¹æ®æ—¶é—´åˆ—è¡¨å¾—åˆ°æ€»æ—¶é—´">20.æ ¹æ®æ—¶é—´åˆ—è¡¨å¾—åˆ°æ€»æ—¶é—´</h2>
<pre><code>	async function getRequestTime(list) { //è·å–æ‰€éœ€æ—¶é—´
				// list = ['12h14min', '23h55min']
				if (list.length) {
					let getS = 0
					list.forEach(el =&gt; {
						// è½¬æ¢ä¸ºç§’
						let hour = parseInt(el.replace('min', '').replace('h', '-').slice(0, 2))
						let min = parseInt(el.replace('min', '').replace('h', '-').slice(-2))
						let se = hour * 60 * 60 + min * 60
						getS += se
					})
					return {
						h: Math.floor(getS / 3600),
						min: Math.floor((getS % 3600) / 60)
					}
				}
</code></pre>
<h2 id="21æ•°ç»„å¯¹è±¡å»é‡">21.æ•°ç»„å¯¹è±¡å»é‡</h2>
<pre><code>let arrRemoval = (list) =&gt; {
    const set = new Set(list.map(JSON.stringify));
    const uniqueArr = Array.from(set).map(JSON.parse);
    return uniqueArr
}
     
</code></pre>
<h2 id="22-è‡ªåŠ¨è§¦å‘ç‚¹å‡»äº‹ä»¶">22. è‡ªåŠ¨è§¦å‘ç‚¹å‡»äº‹ä»¶</h2>
<pre><code>setTimeout(function() { //è‡ªåŠ¨ç‚¹å‡»
						//  IEæµè§ˆå™¨
						if (document.all) {
							document.querySelector('.tosign .btns-confirm').click();
						}
						//  å…¶å®ƒæµè§ˆå™¨
						else {
							var e = document.createEvent(&quot;MouseEvents&quot;);
							e.initEvent(&quot;click&quot;, true, true);
							document.querySelector('.tosign .btns-confirm').dispatchEvent(
							e);
						}
						// let btnsDom= document.querySelector('.tosign .btns-confirm')
		// console.log(btnsDom)
			}, 3000);
</code></pre>
<h2 id="23-æœ€å¤šä¿ç•™nä½å°æ•°åŠ¨æ€æ­£åˆ™">23. æœ€å¤šä¿ç•™nä½å°æ•°,åŠ¨æ€æ­£åˆ™</h2>
<pre><code>let maxDecimal = (number,n) =&gt; { 
  return parseFloat(String(number).replace(new RegExp(`^(\\-)*(\\d+)\\.(\\d{${n}}).*$`),  '$1$2.$3'))
}
</code></pre>
<h2 id="24-åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒº">24. åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒº</h2>
<pre><code>				function isContain(dom) {
					// è·å–å¯è§†çª—å£çš„ç›–åº¦ã€‚
					const screenHeight = window.innerHeight || document.documentElement.clientHeight || document.body
						.clientHeight;
					// è·å–æ»šåŠ¨æ¡æ»šåŠ¨çš„é«˜åº¦
					const scrollTop = document.documentElement.scrollTop;
					// è·å–å…ƒç´ åç§»çš„é«˜åº¦ã€‚å°±æ˜¯è·ç¦»å¯è§†çª—å£çš„åç§»é‡ã€‚
					const offsetTop = dom.offsetTop;
					return offsetTop - scrollTop &lt;= screenHeight;
				}
</code></pre>
<h2 id="25-jsç»Ÿè®¡æ•°ç»„ä¸­é‡å¤å’Œä¸é‡å¤å€¼çš„æ•°é‡">25. jsç»Ÿè®¡æ•°ç»„ä¸­é‡å¤å’Œä¸é‡å¤å€¼çš„æ•°é‡</h2>
<ul>
<li>åŸºæœ¬æ•°ç»„</li>
</ul>
<pre><code>const arr = [1, 2, 3, 2, 1, 1];
const count = arr.reduce((obj, val) =&gt; {
  obj[val] = (obj[val] || 0) + 1;
  return obj;
}, {});

console.log(count); // {1: 3, 2: 2, 3: 1}

</code></pre>
<h2 id="26-åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒº">26. åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒº</h2>
<pre><code>function isInViewPortOfOne (el) {
    // viewPortHeight å…¼å®¹æ‰€æœ‰æµè§ˆå™¨å†™æ³•
    const viewPortHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight 
    const offsetTop = el.offsetTop
    const scrollTop = document.documentElement.scrollTop
    const top = offsetTop - scrollTop
    return top &lt;= viewPortHeight
}

</code></pre>
<h2 id="27-jså°†æ—¶é—´æˆ³è½¬åŒ–ä¸ºyyyy-mm-dd-hhmmss">27. jså°†æ—¶é—´æˆ³è½¬åŒ–ä¸ºYYYY-MM-DD hh:mm:ss</h2>
<pre><code>function formatDate(date) {
		  var date = new Date(date);
		  var YY = date.getFullYear() + '-';
		  var MM = (date.getMonth() + 1 &lt; 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';
		  var DD = (date.getDate() &lt; 10 ? '0' + (date.getDate()) : date.getDate());
		  var hh = (date.getHours() &lt; 10 ? '0' + date.getHours() : date.getHours()) + ':';
		  var mm = (date.getMinutes() &lt; 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';
		  var ss = (date.getSeconds() &lt; 10 ? '0' + date.getSeconds() : date.getSeconds());
		  return YY + MM + DD +&quot; &quot;+hh + mm + ss;
		}
</code></pre>
<h2 id="28-æ¡ä»¶åˆ é™¤æ•°ç»„å¯¹è±¡ä¸­å€¼">28. æ¡ä»¶åˆ é™¤æ•°ç»„å¯¹è±¡ä¸­å€¼</h2>
<pre><code>list.splice(list.findIndex(item =&gt; item.id === resp.id), 1)
</code></pre>
<h2 id="29-replaceæ–¹æ³•ä»£æ›¿replaceall">29. replaceæ–¹æ³•ä»£æ›¿replaceAll</h2>
<blockquote>
<p>repalceAllçš„æµè§ˆå™¨å…¼å®¹æ€§ä¸å¥½</p>
</blockquote>
<pre><code>fuction replacGm(l,m,n){//å‚æ•°ï¼šæ›¿æ¢çš„å­—ç¬¦ä¸²,æ›¿æ¢é€‰æ‹©å†…å®¹,æ›¿æ¢å¯¹è±¡
  return l.replace(new RegExp(m,'gm'),n)
}
replacGm(&quot;aaa_b_&quot;,&quot;_b_&quot;,&quot;ccc&quot;)  //aaaccc
</code></pre>
<h2 id="30æ•°å­—è½¬åŒ–ä¸ºåƒä½è¡¨ç¤ºæ ¼å¼">30.æ•°å­—è½¬åŒ–ä¸ºåƒä½è¡¨ç¤ºæ ¼å¼</h2>
<pre><code>function log(t) {
  console.log(t);
}
export default function toThousands(num, reservedBit = 0, isDeZero = true) {
  //ä¼ æ•°ï¼Œä¿ç•™ä½æ•°,æ˜¯å¦å»æ‰æœ«å°¾çš„0
  num = parseFloat(num);
  let m = null;
  m = num.toFixed(reservedBit);
  if (isDeZero) {
    m = String(
      Math.round(num * Math.pow(10, reservedBit)) / Math.pow(10, reservedBit)
    );
    let str = &quot;&quot;;
    if (m.includes(&quot;.&quot;)) {
      for (let i of m.split(&quot;.&quot;)[1]) {
        if (i !== &quot;0&quot;) {
          str += i;
        }
      }
    }
    m = m.includes(&quot;.&quot;) ? `${m.split(&quot;.&quot;)[0]}.${str}` : m;
  }
  return m.toString().replace(/\d+/, function (n) {
    return n.replace(/(\d)(?=(?:\d{3})+$)/g, &quot;$1,&quot;);
  });
}
log(toThousands(&quot;123123.120&quot;, 4, false));



</code></pre>
<h2 id="31éšè—ä¸­é—´æ–‡å­—">31.éšè—ä¸­é—´æ–‡å­—</h2>
<pre><code>export const centerEllipsis = (text, num = 3) =&gt; {
  //å‚æ•°ï¼šæ–‡å­—ï¼ŒæŒ‡å®šå‰åç•™å‡ ä¸ªå•è¯
  let t = text.substring(num, text.length - num);
  return text.replace(new RegExp(t, &quot;gm&quot;), `${&quot;.&quot;.repeat(num)}`);
};

</code></pre>
<h2 id="32-ç²¾å‡†å››èˆäº”å…¥ä¿ç•™ä¸¤ä½å°æ•°">32. ç²¾å‡†å››èˆäº”å…¥ä¿ç•™ä¸¤ä½å°æ•°</h2>
<pre><code>function roundToTwo(num) {
    return +(Math.round(num + &quot;e+2&quot;)  + &quot;e-2&quot;);
}
roundToTwo(123.1234)
</code></pre>
<h2 id="33-å®ç°f11å…¨å±">33. å®ç°F11å…¨å±</h2>
<pre><code>const fullScreen=()=&gt;{
      if(document.documentElement.RequestFullScreen){
        document.documentElement.RequestFullScreen();
      }
      //å…¼å®¹ç«ç‹
      console.log(document.documentElement.mozRequestFullScreen)
      if(document.documentElement.mozRequestFullScreen){
        document.documentElement.mozRequestFullScreen();
      }
      //å…¼å®¹è°·æ­Œç­‰å¯ä»¥webkitRequestFullScreenä¹Ÿå¯ä»¥webkitRequestFullscreen
      if(document.documentElement.webkitRequestFullScreen){
        document.documentElement.webkitRequestFullScreen();
      }
      //å…¼å®¹IE,åªèƒ½å†™msRequestFullscreen
      if(document.documentElement.msRequestFullscreen){
        document.documentElement.msRequestFullscreen();
      }
      }
        document.getElementById(&quot;noFullScreen&quot;).onclick=function(){
      if(document.exitFullScreen){
        document.exitFullscreen()
      }
      //å…¼å®¹ç«ç‹
        console.log(document.mozExitFullScreen)
      if(document.mozCancelFullScreen){
        document.mozCancelFullScreen()
      }
      //å…¼å®¹è°·æ­Œç­‰
      if(document.webkitExitFullscreen){
        document.webkitExitFullscreen()
      }
      //å…¼å®¹IE
      if(document.msExitFullscreen){
        document.msExitFullscreen()
      }
}
</code></pre>
<h2 id="34-es6åŠ¨æ€å¯¼å…¥æ¨¡å—">34. es6åŠ¨æ€å¯¼å…¥æ¨¡å—</h2>
<pre><code>const dynamicImport = async (moduleUrl: string) =&gt; {
    const module = await import(moduleUrl);
    return module.default;
}
</code></pre>
<h2 id="å­¦ä¹ ç½‘å€">å­¦ä¹ ç½‘å€</h2>
<p>https://juejin.cn/post/6844903873048477709##heading-64<br>
https://juejin.cn/post/6844903650586787848##heading-8</p>
<h1 id="domèŠ‚ç‚¹æ“ä½œ">DomèŠ‚ç‚¹æ“ä½œ</h1>
<h2 id="1-è¯»å–shadow-rooté‡Œé¢çš„å†…å®¹">1. è¯»å–shadow-rooté‡Œé¢çš„å†…å®¹</h2>
<pre><code>//å…ˆè·å–å®¿ä¸»domèŠ‚ç‚¹ï¼Œå†è·å–shadow-rooté‡Œé¢çš„å†…å®¹
document.querySelector('w3m-modal-backcard').shadowRoot.querySelector('.w3maction') 
</code></pre>
<h2 id="2-è·å–videoæ—¶é•¿">2. è·å–videoæ—¶é•¿</h2>
<pre><code>  // ç§’è½¬æ¢åˆ†é’Ÿ00:00:00æ ¼å¼
  function timeToMinute(times) {
    console.log('zyc11122');
    console.log('zyc111');
    var t;
    if (times &gt; -1) {
      var hour = Math.floor(times / 3600);
      var min = Math.floor(times / 60) % 60;
      var sec = times % 60;
      if (hour &lt; 10) {
        t = '0' + hour + &quot;:&quot;;
      } else {
        t = hour + &quot;:&quot;;
      }
      if (min &lt; 10) { t += &quot;0&quot;; }
      t += min + &quot;:&quot;;
      if (sec &lt; 10) { t += &quot;0&quot;; }
      t += sec.toFixed(2);
    }
    t = t.substring(0, t.length - 3);
    return t;
  }
</code></pre>
<p>ä½¿ç”¨</p>
<pre><code>  let video: {
    [key: string]: any
  } = document.querySelector(&quot;#video&quot;)
  video.oncanplay = () =&gt; {
    console.log(timeToMinute(video.duration))
  }
</code></pre>
<h2 id="3-è·å–é¡µé¢è·¯å¾„å‚æ•°">3. è·å–é¡µé¢è·¯å¾„å‚æ•°</h2>
<p>ä¾‹å¦‚ï¼šwww.baidu.com?a=1<br>
è°ƒç”¨<code>getQueryVariable('a')</code>å¯ä»¥æ‹¿åˆ°å€¼ã€‚</p>
<pre><code>function getQueryVariable(variable:string) {
        var query = window.location.href;
        var rooms = query.split('?');
        for (var i = 0; i &lt; rooms.length; i++) {
            var pair = rooms[i].split('=');
            if (pair[0] == variable) {
                return (pair[1].split('&amp;'))[0]
            }
        }
        //æˆ–è€…æ‹¼æ¥&amp;åé¢çš„å€¼
        var vars = query.split('&amp;')
        for (var i = 0; i &lt; vars.length; i++) {
            var pair = vars[i].split('=')
            if (pair[0] == variable) {
                return pair[1]
            }
        }
    }
</code></pre>
<h2 id="4-å®ç°å¤åˆ¶">4. å®ç°å¤åˆ¶</h2>
<pre><code>function copy(data){
    const inputDom=document.createElement('input')
    input.value=data
    document.body.appendChild(inputDom);
    inputDom.select()
    document.execCommand('Copy')
    document.body.removeChild(inputDom)
}
</code></pre>

            </div>
            <div class="toc-container">
              <ul class="markdownIt-TOC">
<li><a href="#%E5%B7%A5%E5%85%B7%E6%96%B9%E6%B3%95">å·¥å…·æ–¹æ³•</a>
<ul>
<li><a href="#1%E9%9A%8F%E6%9C%BA%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0">1.éšæœºè·å–æ•°ç»„å…ƒç´ </a></li>
<li><a href="#2%E8%8E%B7%E5%8F%96olson%E6%97%B6%E5%8C%BA">2.è·å–Olsonæ—¶åŒº</a></li>
<li><a href="#3%E8%8E%B7%E5%8F%96%E6%9C%AA%E6%9D%A5%E6%97%A5%E6%9C%9F%E8%AF%A6%E6%83%85">3.è·å–æœªæ¥æ—¥æœŸè¯¦æƒ…</a></li>
<li><a href="#4%E6%A0%B9%E6%8D%AE%E6%97%B6%E9%97%B4%E6%88%B3%E8%8E%B7%E5%8F%9624%E8%BF%9B%E5%88%B6%E7%9A%84%E6%97%B6%E5%88%86">4.æ ¹æ®æ—¶é—´æˆ³è·å–24è¿›åˆ¶çš„æ—¶åˆ†</a></li>
<li><a href="#5%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E6%97%B6%E9%97%B4%E5%A4%A7%E5%B0%8F">5.æ¯”è¾ƒä¸¤ä¸ªæ—¶é—´å¤§å°</a></li>
<li><a href="#6%E6%A0%B9%E6%8D%AE%E5%AF%8C%E6%96%87%E6%9C%AC%E6%8B%BF%E5%88%B0img%E7%9A%84src%E6%A0%87%E7%AD%BE%E5%86%85%E5%AE%B9">6.æ ¹æ®å¯Œæ–‡æœ¬æ‹¿åˆ°imgçš„srcæ ‡ç­¾å†…å®¹</a></li>
<li><a href="#7%E6%A0%B9%E6%8D%AE%E5%B9%B4%E6%9C%88%E6%97%A5%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E6%88%B3">7.æ ¹æ®å¹´æœˆæ—¥è·å–æ—¶é—´æˆ³</a></li>
<li><a href="#8%E5%B0%86html%E4%BB%A3%E7%A0%81%E8%BD%AC%E6%8D%A2%E6%9C%AA%E7%BA%AF%E6%96%87%E6%9C%AC">8.å°†htmlä»£ç è½¬æ¢æœªçº¯æ–‡æœ¬</a></li>
<li><a href="#9%E8%AE%A1%E7%AE%97%E4%B8%A4%E4%B8%AA%E6%97%B6%E9%97%B4%E7%9B%B8%E5%B7%AE%E7%9A%84%E5%A4%A9%E6%95%B0-%E5%B0%8F%E6%97%B6">9.è®¡ç®—ä¸¤ä¸ªæ—¶é—´ç›¸å·®çš„å¤©æ•°ã€å°æ—¶</a></li>
<li><a href="#10%E6%A0%B9%E6%8D%AE%E5%A4%A9%E6%95%B0%E5%BE%97%E5%88%B0%E6%97%A5%E6%9C%9F%E6%8F%8F%E8%BF%B0%E6%A0%BC%E5%BC%8F">10.æ ¹æ®å¤©æ•°,å¾—åˆ°æ—¥æœŸæè¿°æ ¼å¼</a></li>
<li><a href="#11%E8%8E%B7%E5%8F%96%E9%9A%8F%E6%9C%BAid">11.è·å–éšæœºid</a></li>
<li><a href="#12%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9list%E5%B9%B4%E6%9C%88%E6%97%A5">12.è·å–æ—¶é—´é€‰æ‹©listï¼ˆå¹´æœˆæ—¥ï¼‰</a></li>
<li><a href="#13%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%E4%B8%AD%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E5%9C%A8%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%E4%B8%AD%E9%83%BD%E5%AD%98%E5%9C%A8">13.åˆ¤æ–­ä¸€ä¸ªæ•°ç»„ä¸­å…ƒç´ æ˜¯å¦åœ¨å¦ä¸€ä¸ªæ•°ç»„ä¸­éƒ½å­˜åœ¨</a></li>
<li><a href="#14%E6%B7%B1%E5%BA%A6%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D">14.æ·±åº¦æ‹·è´å’Œæµ…æ‹·è´</a></li>
<li><a href="#15%E5%88%A4%E6%96%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">15.åˆ¤æ–­æ•°æ®ç±»å‹</a></li>
<li><a href="#16%E5%88%A0%E9%99%A4%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9C%AB%E5%B0%BE%E9%80%97%E5%8F%B7">16.åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾é€—å·</a></li>
<li><a href="#17%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E6%8E%92%E5%BA%8F">17.æ•°ç»„å¯¹è±¡æ’åº</a></li>
<li><a href="#18%E8%8E%B7%E5%8F%96%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0">18.è·å–èŒƒå›´å†…çš„éšæœºæ•°</a></li>
<li><a href="#19%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99">19.å¸¸ç”¨æ­£åˆ™</a></li>
<li><a href="#20%E6%A0%B9%E6%8D%AE%E6%97%B6%E9%97%B4%E5%88%97%E8%A1%A8%E5%BE%97%E5%88%B0%E6%80%BB%E6%97%B6%E9%97%B4">20.æ ¹æ®æ—¶é—´åˆ—è¡¨å¾—åˆ°æ€»æ—¶é—´</a></li>
<li><a href="#21%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E5%8E%BB%E9%87%8D">21.æ•°ç»„å¯¹è±¡å»é‡</a></li>
<li><a href="#22-%E8%87%AA%E5%8A%A8%E8%A7%A6%E5%8F%91%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6">22. è‡ªåŠ¨è§¦å‘ç‚¹å‡»äº‹ä»¶</a></li>
<li><a href="#23-%E6%9C%80%E5%A4%9A%E4%BF%9D%E7%95%99n%E4%BD%8D%E5%B0%8F%E6%95%B0%E5%8A%A8%E6%80%81%E6%AD%A3%E5%88%99">23. æœ€å¤šä¿ç•™nä½å°æ•°,åŠ¨æ€æ­£åˆ™</a></li>
<li><a href="#24-%E5%88%A4%E6%96%AD%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E5%9C%A8%E5%8F%AF%E8%A7%86%E5%8C%BA">24. åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒº</a></li>
<li><a href="#25-js%E7%BB%9F%E8%AE%A1%E6%95%B0%E7%BB%84%E4%B8%AD%E9%87%8D%E5%A4%8D%E5%92%8C%E4%B8%8D%E9%87%8D%E5%A4%8D%E5%80%BC%E7%9A%84%E6%95%B0%E9%87%8F">25. jsç»Ÿè®¡æ•°ç»„ä¸­é‡å¤å’Œä¸é‡å¤å€¼çš„æ•°é‡</a></li>
<li><a href="#26-%E5%88%A4%E6%96%AD%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E5%9C%A8%E5%8F%AF%E8%A7%86%E5%8C%BA">26. åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒº</a></li>
<li><a href="#27-js%E5%B0%86%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E5%8C%96%E4%B8%BAyyyy-mm-dd-hhmmss">27. jså°†æ—¶é—´æˆ³è½¬åŒ–ä¸ºYYYY-MM-DD hh:mm:ss</a></li>
<li><a href="#28-%E6%9D%A1%E4%BB%B6%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E4%B8%AD%E5%80%BC">28. æ¡ä»¶åˆ é™¤æ•°ç»„å¯¹è±¡ä¸­å€¼</a></li>
<li><a href="#29-replace%E6%96%B9%E6%B3%95%E4%BB%A3%E6%9B%BFreplaceall">29. replaceæ–¹æ³•ä»£æ›¿replaceAll</a></li>
<li><a href="#30%E6%95%B0%E5%AD%97%E8%BD%AC%E5%8C%96%E4%B8%BA%E5%8D%83%E4%BD%8D%E8%A1%A8%E7%A4%BA%E6%A0%BC%E5%BC%8F">30.æ•°å­—è½¬åŒ–ä¸ºåƒä½è¡¨ç¤ºæ ¼å¼</a></li>
<li><a href="#31%E9%9A%90%E8%97%8F%E4%B8%AD%E9%97%B4%E6%96%87%E5%AD%97">31.éšè—ä¸­é—´æ–‡å­—</a></li>
<li><a href="#32-%E7%B2%BE%E5%87%86%E5%9B%9B%E8%88%8D%E4%BA%94%E5%85%A5%E4%BF%9D%E7%95%99%E4%B8%A4%E4%BD%8D%E5%B0%8F%E6%95%B0">32. ç²¾å‡†å››èˆäº”å…¥ä¿ç•™ä¸¤ä½å°æ•°</a></li>
<li><a href="#33-%E5%AE%9E%E7%8E%B0f11%E5%85%A8%E5%B1%8F">33. å®ç°F11å…¨å±</a></li>
<li><a href="#34-es6%E5%8A%A8%E6%80%81%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97">34. es6åŠ¨æ€å¯¼å…¥æ¨¡å—</a></li>
<li><a href="#%E5%AD%A6%E4%B9%A0%E7%BD%91%E5%9D%80">å­¦ä¹ ç½‘å€</a></li>
</ul>
</li>
<li><a href="#dom%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C">DomèŠ‚ç‚¹æ“ä½œ</a>
<ul>
<li><a href="#1-%E8%AF%BB%E5%8F%96shadow-root%E9%87%8C%E9%9D%A2%E7%9A%84%E5%86%85%E5%AE%B9">1. è¯»å–shadow-rooté‡Œé¢çš„å†…å®¹</a></li>
<li><a href="#2-%E8%8E%B7%E5%8F%96video%E6%97%B6%E9%95%BF">2. è·å–videoæ—¶é•¿</a></li>
<li><a href="#3-%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E8%B7%AF%E5%BE%84%E5%8F%82%E6%95%B0">3. è·å–é¡µé¢è·¯å¾„å‚æ•°</a></li>
<li><a href="#4-%E5%AE%9E%E7%8E%B0%E5%A4%8D%E5%88%B6">4. å®ç°å¤åˆ¶</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </article>
      </div>

      
      <div class="next-post">
        <div class="next">ä¸‹ä¸€ç¯‡</div>
        <a href="https://qin_hu.gitee.io/blog/post/jie-kou-qing-qiu-he-xiang-ying-shi-yong-sm2-jia-mi/">
          <h3 class="post-title">
            æ¥å£è¯·æ±‚å’Œå“åº”ä½¿ç”¨SM2åŠ å¯†
          </h3>
        </a>
      </div>
      

      

      <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://qin_hu.gitee.io/blog//atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>
<div id="backtop">
    <a href="#backtop" class="backTop" title="å›åˆ°é¡¶éƒ¨">
        <svg t="1702280870845" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="5528" width="50" height="50">
            <path
                d="M679.936 482.176l0.32-0.32-157.44-157.44c-6.912-6.912-18.112-6.912-25.024 0L342.4 479.872 342.592 480c-10.88 11.776-6.208 34.624 10.816 51.648s39.872 21.632 51.648 10.816L405.12 542.592l62.336-62.336 0 195.648c0 24 19.392 43.52 43.392 43.52s43.392-19.52 43.392-43.52L554.24 481.28l61.696 61.696c0.064 0.064 0.064 0.064 0.128 0.128l0.128 0.064 1.408 1.408 0.192-0.192c12.032 9.728 33.984 4.928 50.56-11.584C684.8 516.16 689.6 494.208 679.936 482.176z"
                fill="#8F9EB230" p-id="5529"></path>
            <path
                d="M512 64C264.576 64 64 264.576 64 512s200.576 448 448 448c247.36 0 448-200.64 448-448S759.36 64 512 64zM512 864.256c-194.56 0-352.192-157.76-352.192-352.256C159.808 317.504 317.44 159.808 512 159.808c194.496 0 352.192 157.696 352.192 352.192C864.192 706.496 706.496 864.256 512 864.256z"
                fill="#8F9EB230" p-id="5530"></path>
        </svg>
    </a>
</div>
<style>
.backTop {
  width: 50px;
  height: 50px;
  position: fixed;
  bottom: 50px;
  right: 50px;
  text-align: center;
  line-height: 50px;
  transition: .5s ease-in-out;

}

.backTop:hover {
  transform: translateY(15px);
}

#backtop {
  position: absolute;
  top: 0px;
  z-index: 100;
  opacity: 0;
}
</style>
<script>
    const bodyDom = document.querySelector('body')
    const backTopDom = document.querySelector('#backtop')
    document.addEventListener('scroll', (e) => {
        // console.log(bodyDom.scrollTop)
        if (bodyDom.scrollTop > 3550) {
            backTopDom.style.opacity = 1
        } else {
            backTopDom.style.opacity = 0
        }
    })
</script>
      <!-- <div class="theme">
    <input class="switch-input" id="theme-switch" type="checkbox">
    <label class="switch-control" for="theme-switch"></label>
    <div class="container"></div>
</div>
 -->
    </div>
  </div>

  <script>
    // hljs.initHighlightingOnLoad()
    // hljs.highlightAll();
    document.addEventListener('DOMContentLoaded', () => {
      hljs.highlightAll();
    });
    let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

    // This should probably be throttled.
    // Especially because it triggers during smooth scrolling.
    // https://lodash.com/docs/4.17.10#throttle
    // You could do like...
    // window.addEventListener("scroll", () => {
    //    _.throttle(doThatStuff, 100);
    // });
    // Only not doing it here to keep this Pen dependency-free.

    window.addEventListener("scroll", event => {
      let fromTop = window.scrollY;

      mainNavLinks.forEach((link, index) => {
        let section = document.getElementById(decodeURI(link.hash).substring(1));
        let nextSection = null
        if (mainNavLinks[index + 1]) {
          nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
        }
        if (section.offsetTop <= fromTop) {
          if (nextSection) {
            if (nextSection.offsetTop > fromTop) {
              link.classList.add("current");
            } else {
              link.classList.remove("current");
            }
          } else {
            link.classList.add("current");
          }
        } else {
          link.classList.remove("current");
        }
      });
    });
  </script>
</body>

</html>