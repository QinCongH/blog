<html>

<head>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Reactå…¥é—¨ | ç¦¾è€³</title>
<link rel="shortcut icon" href="https://qin_hu.gitee.io/blog//favicon.ico?v=1714022378479">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://qin_hu.gitee.io/blog//styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Reactå…¥é—¨ | ç¦¾è€³ - Atom Feed" href="https://qin_hu.gitee.io/blog//atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



  <meta name="description" content="1. è®¤è¯†Reactå’Œæ­å»ºç¯å¢ƒ
1. æ­å»ºç¯å¢ƒ
1-1. ä½¿ç”¨cdné“¾æ¥

å¼€å‘ç¯å¢ƒ

&lt;script crossorigin src=&quot;https://unpkg.com/react@16/umd/react.develo..." />
  <meta name="keywords" content="React" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
  <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"> -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script> -->

  <!-- and it's easy to individually load additional languages -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/night-owl.min.css">


</head>

<body>
  <div class="main">
    <div class="main-content">
      <div class="site-header">
  <a href="https://qin_hu.gitee.io/blog/">
    <img class="avatar" src="https://qin_hu.gitee.io/blog//images/avatar.png?v=1714022378479" alt="">
  </a>

  <h1 class="site-title">
    ç¦¾è€³
  </h1>
  <p class="site-description">
    é€†é£çš„æ–¹å‘ï¼Œæ›´é€‚åˆé£ç¿”ã€‚
  </p>
  <form style=" position: absolute;
  top: 50px;
  right: 150px;
  border: unset;
  outline: unset;display: flex;" id="gridea-search-form" action="https://qin_hu.gitee.io/blog//search/">
    <input placeholder="è¯·è¾“å…¥.." style="color: #222 !important;margin-right: 10px;
   " name="q" />
    <svg onclick="window.location.reload()" style="
    cursor: pointer;    filter: invert(1);" title="åˆ·æ–°é¡µé¢" class="shuaxin-icon" t="1705541456452" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
      p-id="4229" width="20" height="20">
      <path
        d="M55.935033 264.48948c0 0 85.897017-132.548409 221.81443-203.673173 135.916406-71.121743 303.368504-50.646859 413.187968 18.319527 109.819465 68.970415 146.791894 127.160016 146.791894 127.160016l94.59499-53.879895c0 0 19.576483-9.697092 19.576483 12.932142l0 338.379961c0 0 0 30.17399-22.837719 19.395191-19.210878-9.062571-226.959086-127.198289-292.424528-164.466828-35.950145-16.035251-4.365101-29.062068-4.365101-29.062068l91.284402-52.173738c0 0-52.068992-65.209619-128.278989-99.744682-81.576231-42.501826-157.948384-47.541735-251.497925-12.224097-61.002644 23.025054-132.823368 81.988166-184.553949 169.082716L55.935033 264.48948 55.935033 264.48948 55.935033 264.48948zM904.056909 711.697844c0 0-85.897017 132.550423-221.816444 203.671159-135.917413 71.12275-303.366489 50.651895-413.186961-18.315498-109.825508-68.972429-146.790886-127.165052-146.790886-127.165052L27.662591 823.768348c0 0-19.572454 9.703135-19.572454-12.932142L8.090137 472.459267c0 0 0-30.170968 22.831676-19.397205 19.211885 9.067607 226.965129 127.198289 292.430571 164.470856 35.950145 16.035251 4.366109 29.058039 4.366109 29.058039l-91.285409 52.175753c0 0 52.071006 65.206598 128.279996 99.744682 81.57321 42.498804 157.942341 47.540728 251.496918 12.222082 60.998616-23.026061 132.820346-81.983131 184.546898-169.082716L904.056909 711.697844 904.056909 711.697844 904.056909 711.697844zM904.056909 711.697844"
        fill="#2c2c2c" p-id="4230"></path>
    </svg>
  </form>
  <button style="    border: unset;
  background: #f0f8ff00;cursor: pointer;" class="theme-button" onclick="changeTheme()">
    ğŸŒ™
  </button>
  <div class="menu-container">
    
    
    <a href="https://qin_hu.gitee.io/blog/" class="menu">
      é¦–é¡µ
    </a>
    
    
    
    <a href="https://qin_hu.gitee.io/blog/archives" class="menu">
      å½’æ¡£
    </a>
    
    
    
    <a href="https://qin_hu.gitee.io/blog/tags" class="menu">
      æ ‡ç­¾
    </a>
    
    
    
    <a href="https://qin_hu.gitee.io/blog/friend" class="menu">
      å‹é“¾
    </a>
    
    
    
    <a href="https://qin_hu.gitee.io/blog/about" class="menu">
      å…³äº
    </a>
    
    
  </div>
  <div class="social-container">
    
    
    <a href="https://github.com/QinCongH" target="_blank">
      <i class="ri-github-line"></i>
    </a>
    
    
    
    
    
    
    
    
    
    
  </div>
</div>
<script>
  window.addEventListener('load', () => {
    const themeType = localStorage.getItem('theme')
    const bodyDom = document.querySelector('body')
    const themeButtonDom = document.querySelector('.theme-button')
    // console.log(1111111111111111, themeType)
    if (themeType === 'light') {
      bodyDom.removeAttribute('thmem-dark')
      themeButtonDom.textContent = 'ğŸŒ™'
      localStorage.setItem('theme', 'light')
    } else {
      bodyDom.setAttribute('thmem-dark', '')
      themeButtonDom.textContent = 'ğŸŒ'
      localStorage.setItem('theme', 'dark')
    }
  })

  function changeTheme() {
    const bodyDom = document.querySelector('body')
    const themeButtonDom = document.querySelector('.theme-button')
    const attr = bodyDom.hasAttribute('thmem-dark')
    if (attr) {
      bodyDom.removeAttribute('thmem-dark')
      themeButtonDom.textContent = 'ğŸŒ™'
      localStorage.setItem('theme', 'light')
    } else {
      bodyDom.setAttribute('thmem-dark', '')
      themeButtonDom.textContent = 'ğŸŒ'
      localStorage.setItem('theme', 'dark')
    }
  }
</script>
      <div class="post-detail">
        <article class="post">
          <h2 class="post-title">
            Reactå…¥é—¨
          </h2>
          <div class="post-info">
            <span>
              2023-12-26
            </span>
            <span>
              49 min read
            </span>
            
            <a href="https://qin_hu.gitee.io/blog/tag/TL1T7hUz1/" class="post-tag">
              # React
            </a>
            
          </div>
          
          <div class="post-content-wrapper">
            <div class="post-content" v-pre>
              <h1 id="1-è®¤è¯†reactå’Œæ­å»ºç¯å¢ƒ">1. è®¤è¯†Reactå’Œæ­å»ºç¯å¢ƒ</h1>
<h2 id="1-æ­å»ºç¯å¢ƒ">1. æ­å»ºç¯å¢ƒ</h2>
<h3 id="1-1-ä½¿ç”¨cdné“¾æ¥">1-1. ä½¿ç”¨cdné“¾æ¥</h3>
<ul>
<li>å¼€å‘ç¯å¢ƒ</li>
</ul>
<pre><code>&lt;script crossorigin src=&quot;https://unpkg.com/react@16/umd/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script crossorigin src=&quot;https://unpkg.com/react-dom@16/umd/react-dom.development.js&quot;&gt;&lt;/script&gt;
</code></pre>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<pre><code>&lt;script crossorigin src=&quot;https://unpkg.com/react@16/umd/react.production.min.js&quot;&gt;&lt;/script&gt;
&lt;script crossorigin src=&quot;https://unpkg.com/react-dom@16/umd/react-dom.production.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h3 id="1-2ä½¿ç”¨npm">1-2.ä½¿ç”¨npm</h3>
<pre><code>//ä¸‹è½½æ·˜å®é•œåƒ
$ npm install -g cnpm --registry=https://registry.npmmirror.com
$ npm config set registry https://registry.npmmirror.com
$ cnpm i react
</code></pre>
<p>https://www.npmjs.com/package/react</p>
<h3 id="1-3ä½¿ç”¨create-react-appå¿«é€Ÿæ­å»ºç¯å¢ƒ">1-3.ä½¿ç”¨create-react-appå¿«é€Ÿæ­å»ºç¯å¢ƒ</h3>
<blockquote>
<p>æœ¬åœ°å®‰è£… Node &gt;= 14 å’Œ npm &gt;= 5.6</p>
</blockquote>
<pre><code>npx create-react-app my-app
cd my-app
npm start
</code></pre>
<h1 id="2-jsxç®€ä»‹">2. jsxç®€ä»‹</h1>
<h2 id="1-ç®€ä»‹">1. ç®€ä»‹</h2>
<blockquote>
<p>React ä½¿ç”¨ JSX æ¥æ›¿ä»£å¸¸è§„çš„ JavaScriptã€‚<br>
JSX æ˜¯ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆåƒ XML çš„ JavaScript è¯­æ³•æ‰©å±•</p>
</blockquote>
<ul>
<li>ä¸€ç§ JavaScript çš„è¯­æ³•æ‰©å±•</li>
<li>React DOM åœ¨æ¸²æŸ“æ‰€æœ‰è¾“å…¥å†…å®¹ä¹‹å‰ï¼Œé»˜è®¤ä¼šè¿›è¡Œè½¬ä¹‰ã€‚å¯ä»¥æœ‰æ•ˆåœ°é˜²æ­¢ XSSï¼ˆcross-site-scripting, è·¨ç«™è„šæœ¬ï¼‰æ”»å‡»ã€‚</li>
<li>React ä¸­ä½¿ç”¨ JSX æ¥æè¿°ç”¨æˆ·ç•Œé¢</li>
<li>JSX æ˜¯åœ¨ JavaScript å†…éƒ¨å®ç°çš„</li>
<li>React å½“ä¸­çš„å…ƒç´ äº‹å®ä¸Šæ˜¯æ™®é€šçš„å¯¹è±¡ï¼ŒReact DOM å¯ä»¥ç¡®ä¿ æµè§ˆå™¨ DOM çš„æ•°æ®å†…å®¹ä¸ React å…ƒç´ ä¿æŒä¸€è‡´</li>
<li>è¦å°† React å…ƒç´ æ¸²æŸ“åˆ°æ ¹ DOM èŠ‚ç‚¹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æŠŠå®ƒä»¬éƒ½ä¼ é€’ç»™ <code>ReactDOM.render()</code>çš„æ–¹æ³•æ¥å°†å…¶æ¸²æŸ“åˆ°é¡µé¢ä¸Š</li>
</ul>
<h2 id="2-å†™ä¸€ä¸ªhello-world">2. å†™ä¸€ä¸ª<code>hello worldï¼</code></h2>
<p><code>html</code></p>
<pre><code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
</code></pre>
<p><code>react</code></p>
<pre><code>const word='world!'
const element = &lt;h1&gt;hello, {word}&lt;/h1&gt;;  //{ }ä¸­å­˜æ”¾è¡¨è¾¾å¼

ReactDOM.render(
  element,  //jsx
  document.getElementById('root')  //å…ƒç´ 
);
</code></pre>
<h2 id="3jsxåŸºæœ¬ä½¿ç”¨">3.jsxåŸºæœ¬ä½¿ç”¨</h2>
<h3 id="3-1-jsxä¸­ä½¿ç”¨åµŒå…¥è¡¨è¾¾å¼">3-1. jsxä¸­ä½¿ç”¨<code>{}</code>åµŒå…¥è¡¨è¾¾å¼</h3>
<blockquote>
<p>åœ¨å¤§æ‹¬å·å†…å¯ä»¥æ”¾ç½®ä»»ä½•æœ‰æ•ˆçš„ JavaScript è¡¨è¾¾å¼</p>
</blockquote>
<pre><code>const msg=&quot;ä½ å¥½&quot;
ReactDOM.render(
  // &lt;h1&gt;{msg}&lt;/h1&gt;,  //å˜é‡
  //&lt;h1&gt;{getName(&quot;å°æ˜&quot;)}&lt;/h1&gt;, //å‡½æ•° å°æ˜
  //&lt;h1&gt;{1+1}&lt;/h1&gt;, /è®¡ç®—è¡¨è¾¾å¼  2
  &lt;h1&gt;{typeof false}&lt;/h1&gt;,  //ç±»å‹åˆ¤æ–­ boolean
  document.getElementById('root')
);
</code></pre>
<h3 id="3-2-jsxå®šä¹‰å±æ€§">3-2. jsxå®šä¹‰å±æ€§</h3>
<ul>
<li>åŸºæœ¬ä½¿ç”¨</li>
</ul>
<p>ä¾‹å¦‚ä¸€ä¸ªsrcå±æ€§<br>
<code>const element = &lt;img src=&quot;./a.png&quot;&gt;&lt;/img&gt;;</code><br>
æˆ–è€…ä½¿ç”¨è¡¨è¾¾å¼<br>
<code>const element = &lt;img src={user.avatarUrl}&gt;&lt;/img&gt;</code></p>
<ul>
<li>æ³¨æ„ç‚¹</li>
</ul>
<ol>
<li>åµŒå…¥ JavaScript è¡¨è¾¾å¼æ—¶ï¼Œä¸è¦åœ¨å¤§æ‹¬å·å¤–é¢åŠ ä¸Šå¼•å·;</li>
<li>React DOM ä½¿ç”¨ camelCaseï¼ˆå°é©¼å³°å‘½åï¼‰æ¥å®šä¹‰å±æ€§çš„åç§°;</li>
<li>JSX é‡Œçš„ class å˜æˆäº† classNameï¼Œè€Œ tabindex åˆ™å˜ä¸º tabIndex</li>
</ol>
<h3 id="3-3-æŒ‡å®šå­å…ƒç´ ">3-3. æŒ‡å®šå­å…ƒç´ </h3>
<ul>
<li>æ²¡æœ‰å­å…ƒç´ æ—¶</li>
</ul>
<pre><code>const element = &lt;img src={user.avatarUrl} /&gt;;
</code></pre>
<ul>
<li>å­˜åœ¨å­å…ƒç´ æ—¶ï¼Œä½¿ç”¨<code>()</code></li>
</ul>
<pre><code>const element = (
  &lt;div&gt;
    &lt;h1&gt;Hello!&lt;/h1&gt;
    &lt;h2&gt;Good to see you here.&lt;/h2&gt;
  &lt;/div&gt;
);
</code></pre>
<h3 id="3-4-jsxè¡¨ç¤ºå¯¹è±¡">3-4. jsxè¡¨ç¤ºå¯¹è±¡</h3>
<blockquote>
<p>Babel ä¼šæŠŠ JSX è½¬è¯‘æˆä¸€ä¸ªåä¸º React.createElement() å‡½æ•°è°ƒç”¨,æœ€ç»ˆè½¬æ¢ä¸ºå¯¹è±¡ã€‚</p>
</blockquote>
<p><code>jsx</code></p>
<pre><code>const element = (
  &lt;h1 className=&quot;greeting&quot;&gt;
    Hello, world!
  &lt;/h1&gt;
);
</code></pre>
<p><code>React.createElement() å‡½æ•°è°ƒç”¨</code></p>
<pre><code>const element = React.createElement(
  'h1',  //æ ‡ç­¾å
  {className: 'greeting'}, //å±æ€§
  'Hello, world!'  //å†…å®¹
);
</code></pre>
<p><code>åˆ›å»ºäº†ä¸€ä¸ªè¿™æ ·çš„å¯¹è±¡</code></p>
<pre><code>// æ³¨æ„ï¼šè¿™æ˜¯ç®€åŒ–è¿‡çš„ç»“æ„
const element = {
  type: 'h1',
  props: {
    className: 'greeting',
    children: 'Hello, world!'
  }
};
</code></pre>
<p>è¿™äº›å¯¹è±¡è¢«ç§°ä¸º â€œReact å…ƒç´ â€ã€‚React é€šè¿‡è¯»å–è¿™äº›å¯¹è±¡ï¼Œç„¶åä½¿ç”¨å®ƒä»¬æ¥æ„å»º DOM ä»¥åŠä¿æŒéšæ—¶æ›´æ–°ã€‚</p>
<h1 id="3-å…ƒç´ æ¸²æŸ“">3. å…ƒç´ æ¸²æŸ“</h1>
<h2 id="å°†ä¸€ä¸ªå…ƒç´ æ¸²æŸ“ä¸º-dom">å°†ä¸€ä¸ªå…ƒç´ æ¸²æŸ“ä¸º DOM</h2>
<p>htmlä¸­çš„æ ¹èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹å†…çš„æ‰€æœ‰å†…å®¹éƒ½å°†ç”± React DOM ç®¡ç†<br>
<code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code><br>
å°†ä¸€ä¸ª React å…ƒç´ æ¸²æŸ“åˆ°æ ¹ DOM èŠ‚ç‚¹ä¸­ï¼Œåªéœ€æŠŠå®ƒä»¬ä¸€èµ·ä¼ å…¥ <code>ReactDOM.render()</code></p>
<pre><code>const element = &lt;h1&gt;Hello, world&lt;/h1&gt;;
ReactDOM.render(element, document.getElementById('root'));
</code></pre>
<h2 id="ä½¿ç”¨å‡½æ•°åŠ¨æ€æ›´æ–°jsxä¸­çš„å€¼">ä½¿ç”¨å‡½æ•°åŠ¨æ€æ›´æ–°jsxä¸­çš„å€¼</h2>
<pre><code>function changeTime(){
const element=(&lt;div className=&quot;b&quot;&gt;
  &lt;p&gt;{new Date().toLocaleTimeString()}&lt;/p&gt;
&lt;/div&gt;)
ReactDOM.render(
  element,
  document.getElementById('root')
);
}
setInterval(changeTime,1000)
</code></pre>
<blockquote>
<p>è¿™é‡Œè™½ç„¶æ¯ç§’éƒ½è°ƒç”¨<code>React DOM</code>,ä½†æ˜¯å®é™…æ›´æ–°åªæœ‰domæ”¹å˜çš„å†…å®¹,<code>React DOM</code> ä¼šå°†å…ƒç´ å’Œå®ƒçš„å­å…ƒç´ ä¸å®ƒä»¬ä¹‹å‰çš„çŠ¶æ€è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶åªä¼šè¿›è¡Œå¿…è¦çš„æ›´æ–°æ¥ä½¿ DOM è¾¾åˆ°é¢„æœŸçš„çŠ¶æ€ã€‚</p>
</blockquote>
<h1 id="4-ç»„ä»¶å’Œprops">4. ç»„ä»¶å’Œprops</h1>
<blockquote>
<p>ç»„ä»¶å…è®¸ä½ å°† UI æ‹†åˆ†ä¸ºç‹¬ç«‹å¯å¤ç”¨çš„ä»£ç ç‰‡æ®µï¼Œå¹¶å¯¹æ¯ä¸ªç‰‡æ®µè¿›è¡Œç‹¬ç«‹æ„æ€ã€‚</p>
</blockquote>
<h2 id="1-å‡½æ•°ç»„ä»¶å’Œclassç»„ä»¶">1. å‡½æ•°ç»„ä»¶å’Œclassç»„ä»¶</h2>
<ul>
<li>å‡½æ•°ç»„ä»¶</li>
</ul>
<blockquote>
<p>å‡½æ•°æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ React ç»„ä»¶ï¼Œå› ä¸ºå®ƒæ¥æ”¶å”¯ä¸€å¸¦æœ‰æ•°æ®çš„ â€œpropsâ€ï¼ˆä»£è¡¨å±æ€§ï¼‰å¯¹è±¡ä¸å¹¶è¿”å›ä¸€ä¸ª React å…ƒç´ ã€‚</p>
</blockquote>
<pre><code>function HelloWorld(props){
  const element=&lt;h1&gt;hello,{props.name}&lt;/h1&gt;
  return element
}

ReactDOM.render(
  &lt;HelloWorld name=&quot;world!&quot;&gt;&lt;/HelloWorld&gt;,
  document.getElementById('root')
);


</code></pre>
<ul>
<li>classç»„ä»¶</li>
</ul>
<pre><code>class HelloWorld extends React.Component {
  render() {
    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;
  }
}

ReactDOM.render(
  &lt;HelloWorld name=&quot;world&quot;&gt;&lt;/HelloWorld&gt;,
  document.getElementById('root')
);
</code></pre>
<blockquote>
<p>React å…ƒç´ å¯ä»¥æ˜¯domå…ƒç´ ä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ç»„ä»¶ï¼š</p>
</blockquote>
<blockquote>
<p>ç»„ä»¶åå¿…é¡»æ˜¯ä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚</p>
</blockquote>
<h2 id="2-æ„å»ºç»„ä»¶çš„åŸºæœ¬æµç¨‹">2. æ„å»ºç»„ä»¶çš„åŸºæœ¬æµç¨‹</h2>
<ol>
<li>æˆ‘ä»¬è°ƒç”¨ ReactDOM.render() å‡½æ•°ï¼Œå¹¶ä¼ å…¥<code>&lt;HelloWorld name=&quot;world&quot;&gt;&lt;/HelloWorld&gt;</code> ä½œä¸ºå‚æ•°ã€‚</li>
<li>React è°ƒç”¨ HelloWorld ç»„ä»¶ï¼Œå¹¶å°† {name: 'world'} ä½œä¸º props ä¼ å…¥ã€‚</li>
<li>HelloWorld ç»„ä»¶å°† <code>&lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;</code> å…ƒç´ ä½œä¸ºè¿”å›å€¼ã€‚</li>
<li>React DOM å°† DOM é«˜æ•ˆåœ°æ›´æ–°ä¸º <code>&lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;</code>ã€‚</li>
</ol>
<h2 id="3-ç»„åˆç»„ä»¶">3. ç»„åˆç»„ä»¶</h2>
<blockquote>
<p>ç»„ä»¶å¯ä»¥åœ¨å…¶è¾“å‡ºä¸­å¼•ç”¨å…¶ä»–ç»„ä»¶</p>
</blockquote>
<pre><code>function HelloWorld(props){ //è‡ªå®šä¹‰helloworldç»„ä»¶  
return &lt;h1&gt;hello,{props.name}&lt;/h1&gt;
}
function App() {  //è‡ªå®šä¹‰appç»„ä»¶
  return (
    &lt;div&gt;
      &lt;HelloWorld name=&quot;Sara&quot; /&gt;
      &lt;HelloWorld name=&quot;Cahal&quot; /&gt;
      &lt;HelloWorld name=&quot;Edite&quot; /&gt;
    &lt;/div&gt;
  );
}

//æ¸²æŸ“appç»„ä»¶
ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));

</code></pre>
<h2 id="4-æå–ç»„ä»¶">4. æå–ç»„ä»¶</h2>
<blockquote>
<p>å°†ç»„ä»¶æ‹†åˆ†ä¸ºæ›´å°çš„ç»„ä»¶ã€‚å°†å¯å¤ç”¨ç»„ä»¶æå–å¤„æ¥ã€‚</p>
</blockquote>
<ul>
<li>å†™ä¸€ä¸ªçœ‹æ–‡ç« ç»“æ„çš„ç»„ä»¶æ¡ˆä¾‹</li>
</ul>
<p><code>html</code></p>
<pre><code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
</code></pre>
<p><code>css</code></p>
<pre><code>.article-content{
  width:200px;
  height:200px;
  background:skyblue;
}
.line{
  width:100%;
  height:1px;
  background:#fff;
}
</code></pre>
<p><code>react</code></p>
<pre><code>// æ–‡ç« 
function Article(props){
  const element=(
    &lt;div className=&quot;article-content&quot;&gt;
      &lt;div className=&quot;article-header&quot;&gt;
        æ ‡é¢˜
      &lt;/div&gt;
      &lt;div className=&quot;line&quot;&gt;&lt;/div&gt;
      &lt;div className=&quot;article-main&quot;&gt;
        å†…å®¹
      &lt;/div&gt;
    &lt;/div&gt;
  )
  return element
} 
ReactDOM.render(
  &lt;Article /&gt;,
  document.getElementById(&quot;root&quot;)
)
</code></pre>
<ul>
<li>å°†classNameä¸ºlineçš„æ ‡ç­¾æå–å‡ºæ¥ä½œä¸ºä¸€ä¸ªç»„ä»¶</li>
</ul>
<pre><code>// è‡ªå®šä¹‰lineç»„ä»¶
function Line(props){
  const element=&lt;div className=&quot;line&quot;&gt;&lt;/div&gt;
   return element
}

// æ–‡ç« 
function Article(props){
  const element=(
    &lt;div className=&quot;article-content&quot;&gt;
      &lt;div className=&quot;article-header&quot;&gt;
        æ ‡é¢˜
      &lt;/div&gt;
       &lt;Line /&gt;  //ä½¿ç”¨lineç»„ä»¶
      &lt;div className=&quot;article-main&quot;&gt;
        å†…å®¹
      &lt;/div&gt;
    &lt;/div&gt;
  )
  return element
} 


ReactDOM.render(
  &lt;Article /&gt;,
  document.getElementById(&quot;root&quot;)
)
</code></pre>
<h2 id="5reactçš„propsçš„åªè¯»æ€§">5.Reactçš„Propsçš„åªè¯»æ€§</h2>
<blockquote>
<p>ç»„ä»¶æ— è®ºæ˜¯ä½¿ç”¨å‡½æ•°å£°æ˜è¿˜æ˜¯é€šè¿‡ class å£°æ˜ï¼Œéƒ½å†³ä¸èƒ½ä¿®æ”¹è‡ªèº«çš„ props<br>
React ç»„ä»¶éƒ½å¿…é¡»åƒçº¯å‡½æ•°ä¸€æ ·ä¿æŠ¤å®ƒä»¬çš„ props ä¸è¢«æ›´æ”¹ã€‚</p>
</blockquote>
<p><a href="https://codepen.io/pen?&amp;editors=0010&amp;layout=left">æµ‹è¯•</a></p>
<h1 id="5-stateä¸ç”Ÿå‘½å‘¨æœŸ">5. stateä¸ç”Ÿå‘½å‘¨æœŸ</h1>
<h2 id="1-äº†è§£state">1. äº†è§£state</h2>
<blockquote>
<p>State ä¸ props ç±»ä¼¼ï¼Œä½†æ˜¯ state æ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”å®Œå…¨å—æ§äºå½“å‰ç»„ä»¶ã€‚<br>
é™¤äº†æ‹¥æœ‰å¹¶è®¾ç½®äº†å®ƒçš„ç»„ä»¶ï¼Œå…¶ä»–ç»„ä»¶éƒ½æ— æ³•è®¿é—®ã€‚</p>
</blockquote>
<h2 id="2-å°†å‡½æ•°ç»„ä»¶è½¬æ¢ä¸ºclassç»„ä»¶">2. å°†å‡½æ•°ç»„ä»¶è½¬æ¢ä¸ºClassç»„ä»¶</h2>
<h3 id="æ­¥éª¤">æ­¥éª¤ï¼š</h3>
<ol>
<li>åˆ›å»ºä¸€ä¸ªåŒåçš„ ES6 classï¼Œå¹¶ä¸”ç»§æ‰¿äº React.Componentã€‚</li>
<li>æ·»åŠ ä¸€ä¸ªç©ºçš„ render() æ–¹æ³•ã€‚</li>
<li>å°†å‡½æ•°ä½“ç§»åŠ¨åˆ° render() æ–¹æ³•ä¹‹ä¸­ã€‚</li>
<li>åœ¨ render() æ–¹æ³•ä¸­ä½¿ç”¨ this.props æ›¿æ¢ propsã€‚</li>
<li>åˆ é™¤å‰©ä½™çš„ç©ºå‡½æ•°å£°æ˜ã€‚</li>
</ol>
<p><code>å‡½æ•°Clockç»„ä»¶</code></p>
<pre><code>function Clock(props) {
  return (
    &lt;div&gt;
      &lt;h1&gt;Hello, world!&lt;/h1&gt;
      &lt;h2&gt;It is {props.date.toLocaleTimeString()}.&lt;/h2&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p><code>Classç»„ä»¶å†™æ³•</code></p>
<pre><code>class Clock extends React.Component {
  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Hello, world!&lt;/h1&gt;
        &lt;h2&gt;It is {this.props.date.toLocaleTimeString()}.&lt;/h2&gt;  //thisè®¿é—®props
      &lt;/div&gt;
    );
  }
}
</code></pre>
<h2 id="3-å®ç°ç»„ä»¶è‡ªæˆ‘æ›´æ–°">3. å®ç°ç»„ä»¶è‡ªæˆ‘æ›´æ–°</h2>
<h3 id="3-1-åœ¨å‡½æ•°ç»„ä»¶ä¸­å¯ä»¥æ·»åŠ å®šæ—¶å™¨æ—¶åˆ»æ¸²æŸ“ç»„ä»¶è¾¾åˆ°è‡ªå·±æ›´æ–°çš„æ•ˆæœ">3-1. åœ¨å‡½æ•°ç»„ä»¶ä¸­å¯ä»¥æ·»åŠ å®šæ—¶å™¨ï¼Œæ—¶åˆ»æ¸²æŸ“ç»„ä»¶è¾¾åˆ°è‡ªå·±æ›´æ–°çš„æ•ˆæœ</h3>
<pre><code>function Clock(props){
  return &lt;h1&gt;time:{props.time}&lt;/h1&gt;;
}

function tick(){
let d=new Date()  
ReactDOM.render(
  &lt;Clock time={d.toLocaleTimeString()} /&gt;,
  document.getElementById('root')
)
}
setInterval(tick, 1000);
</code></pre>
<blockquote>
<p>æ­¤æ—¶åœ¨ç»„ä»¶å¤–æ›´æ–°ï¼Œæ¯æ¬¡ç»„ä»¶æ›´æ–°æ—¶ render æ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨</p>
</blockquote>
<h3 id="3-2-å‘-class-ç»„ä»¶ä¸­æ·»åŠ å±€éƒ¨çš„-stateæ·»åŠ ç”Ÿå‘½å‘¨æœŸå‡½æ•°å®ç°ç»„ä»¶å†…éƒ¨æ¸²æŸ“æ›´æ–°">3-2. å‘ class ç»„ä»¶ä¸­æ·»åŠ å±€éƒ¨çš„ state,æ·»åŠ ç”Ÿå‘½å‘¨æœŸå‡½æ•°å®ç°ç»„ä»¶å†…éƒ¨æ¸²æŸ“æ›´æ–°</h3>
<blockquote>
<p>æ­¥éª¤</p>
</blockquote>
<h4 id="1-æ·»åŠ ä¸€ä¸ª-class-æ„é€ å‡½æ•°ç„¶ååœ¨è¯¥å‡½æ•°ä¸­ä¸º-thisstate-èµ‹åˆå€¼">1. æ·»åŠ ä¸€ä¸ª class æ„é€ å‡½æ•°ï¼Œç„¶ååœ¨è¯¥å‡½æ•°ä¸­ä¸º <code>this.state</code> èµ‹åˆå€¼ï¼š</h4>
<pre><code>class Clock extends React.Component {
  constructor(props) {
    super(props);//Class ç»„ä»¶åº”è¯¥å§‹ç»ˆä½¿ç”¨ props å‚æ•°æ¥è°ƒç”¨çˆ¶ç±»(ç»§æ‰¿ç±»)çš„æ„é€ å‡½æ•°ã€‚
    this.state = {date: new Date()};
  }
  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Hello, world!&lt;/h1&gt;
        &lt;h2&gt;It is {this.props.date.toLocaleTimeString()}.&lt;/h2&gt;  //thisè®¿é—®props
      &lt;/div&gt;
    );
  }
}
</code></pre>
<h4 id="2-æŠŠ-render-æ–¹æ³•ä¸­çš„-thispropsdate-æ›¿æ¢æˆ-thisstatedate">2. æŠŠ <code>render()</code> æ–¹æ³•ä¸­çš„<code> this.props.date</code> æ›¿æ¢æˆ<code> this.state.date</code> ï¼š</h4>
<pre><code>class Clock extends React.Component {
  constructor(props) {
    super(props);//Class ç»„ä»¶åº”è¯¥å§‹ç»ˆä½¿ç”¨ props å‚æ•°æ¥è°ƒç”¨çˆ¶ç±»(ç»§æ‰¿ç±»)çš„æ„é€ å‡½æ•°ã€‚
    this.state = {date: new Date()};
  }
  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Hello, world!&lt;/h1&gt;
        &lt;h2&gt;It is {this.state.date.toLocaleTimeString()}.&lt;/h2&gt;  //thisè®¿é—®props
      &lt;/div&gt;
    );
  }
}
</code></pre>
<h4 id="3-ç›´æ¥ä½¿ç”¨clockç»„ä»¶">3. ç›´æ¥ä½¿ç”¨Clockç»„ä»¶</h4>
<pre><code>class Clock extends React.Component {
  constructor(props) {
    super(props);//Class ç»„ä»¶åº”è¯¥å§‹ç»ˆä½¿ç”¨ props å‚æ•°æ¥è°ƒç”¨çˆ¶ç±»(ç»§æ‰¿ç±»)çš„æ„é€ å‡½æ•°ã€‚
    this.state = {date: new Date()};
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Hello, world!&lt;/h1&gt;
        &lt;h2&gt;It is {this.state.date.toLocaleTimeString()}.&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
}

ReactDOM.render(
  &lt;Clock /&gt;,
  document.getElementById('root')
);
</code></pre>
<h4 id="4-åœ¨classç±»ä¸­ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•">4. åœ¨classç±»ä¸­ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</h4>
<ol>
<li>æŒ‚è½½ç”Ÿå‘½å‘¨æœŸå‡½æ•° <code>componentDidMount</code></li>
</ol>
<blockquote>
<p>ç»„ä»¶å·²ç»è¢«æ¸²æŸ“åˆ° DOM ä¸­åè¿è¡Œ</p>
</blockquote>
<ol start="2">
<li>å¸è½½ç”Ÿå‘½å‘¨æœŸå‡½æ•° <code>componentWillUnmount</code></li>
</ol>
<blockquote>
<p>ç»„ä»¶å¸è½½æ—¶è¿è¡Œ</p>
</blockquote>
<p>æ ¹æ®ä¸Šé¢çš„ç”Ÿå‘½å‘¨æœŸ,å¯ä»¥åœ¨<code>componentDidMount</code>ä¸­æ·»åŠ å®šæ—¶å™¨,åœ¨<code>componentWillUnmount</code>ç§»å‡ºå®šæ—¶å™¨,è¾¾åˆ°ç»„ä»¶å†…éƒ¨æ›´æ–°çš„æ•ˆæœ</p>
<pre><code>class Clock extends React.Component {
  constructor(props) {
    super(props);
    this.state = {date: new Date()};
  }

  componentDidMount() {  //æŒ‚è½½
    this.timerID = setInterval(
      () =&gt; this.tick(),
      1000
    );
  }

  componentWillUnmount() {  //å¸è½½
    clearInterval(this.timerID);
  }

  tick() {
    this.setState({  //æ›´æ–°state
      date: new Date()
    });
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Hello, world!&lt;/h1&gt;
        &lt;h2&gt;It is {this.state.date.toLocaleTimeString()}.&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(&lt;Clock /&gt;);
</code></pre>
<h2 id="4-stateä½¿ç”¨æ³¨æ„äº‹é¡¹">4. stateä½¿ç”¨æ³¨æ„äº‹é¡¹</h2>
<h3 id="4-1-ä¸è¦ç›´æ¥ä¿®æ”¹stateè€Œæ˜¯ä½¿ç”¨setstateæ–¹æ³•">4-1. ä¸è¦ç›´æ¥ä¿®æ”¹state,è€Œæ˜¯ä½¿ç”¨<code>setState()</code>æ–¹æ³•</h3>
<pre><code>this.state.date='Test Data'  //é”™è¯¯
this.setState({date:&quot;Test Data&quot;})  //æ­£ç¡® 
</code></pre>
<h3 id="4-2-stateå’Œpropsçš„æ›´æ–°æ˜¯å¼‚æ­¥çš„ä¸è¦ä¾èµ–ä»–ä»¬çš„å€¼æ¥æ›´æ–°ä¸‹ä¸€ä¸ªçŠ¶æ€è€Œæ˜¯ä½¿ç”¨setstatestateprops">4-2. stateå’Œpropsçš„æ›´æ–°æ˜¯å¼‚æ­¥çš„,ä¸è¦ä¾èµ–ä»–ä»¬çš„å€¼æ¥æ›´æ–°ä¸‹ä¸€ä¸ªçŠ¶æ€,è€Œæ˜¯ä½¿ç”¨<code>setState((state,props)=&gt;{...})</code></h3>
<blockquote>
<p><code>setState()</code>æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°,è¯¥å‡½æ•°æœ‰<code>state</code>å’Œ<code>props</code>ä¸¤ä¸ªå‚æ•°</p>
</blockquote>
<pre><code>//æ›´æ–°stateä¸­counterå€¼
this.setState((state, props) =&gt; ({
  counter: state.counter + props.increment
}));
</code></pre>
<h3 id="4-3-stateçš„æ›´æ–°ä¼šè¢«åˆå¹¶">4-3. stateçš„æ›´æ–°ä¼šè¢«åˆå¹¶</h3>
<ul>
<li>å½“stateä¸­åŒ…å«<code>dataA</code>å’Œ<code>dataB</code>ä¸¤ä¸ªå˜é‡</li>
</ul>
<pre><code>constructor(props) {
    super(props);
    this.state = {
      dataA: [],
      dataB: []
    };
  }
</code></pre>
<ul>
<li>å¯ä»¥ä½¿ç”¨<code>setState</code>å•ç‹¬æ›´æ–°ä¸€ä¸ªå˜é‡</li>
</ul>
<pre><code>this.setState({
        dataA: ['1']
      });
</code></pre>
<p>æ­¤æ—¶æ˜¯æµ…åˆå¹¶,stateä¸­çš„<code>dataA</code>å·²ç»è¢«ä¿®æ”¹,<code>dataB</code>è¢«ä¿ç•™</p>
<ul>
<li>å¯ä»¥ç›´æ¥æ›´æ–°æ‰€æœ‰å˜é‡</li>
</ul>
<pre><code>this.setState({
        dataA: ['1'],
        dataB:['2']
      });
</code></pre>
<p>æ­¤æ—¶stateä¸­çš„<code>dataA</code>å’Œ<code>dataB</code>è¢«æ›¿æ¢</p>
<h3 id="4-4-æ•°æ®æ˜¯å‘ä¸‹æµåŠ¨çš„">4-4. æ•°æ®æ˜¯å‘ä¸‹æµåŠ¨çš„</h3>
<blockquote>
<p>å‡å¦‚æœ‰<code>Aç»„ä»¶</code>å’Œ<code>Bç»„ä»¶</code>,<code>Aç»„ä»¶</code>æ˜¯<code>Bç»„ä»¶</code>çš„çˆ¶ç»„ä»¶,<code>Aç»„ä»¶</code>å¯ä»¥é€‰æ‹©æŠŠå®ƒçš„ state ä½œä¸º props å‘ä¸‹ä¼ é€’åˆ°å®ƒçš„å­ç»„ä»¶<code>B</code>ä¸­</p>
</blockquote>
<h2 id="5-ç”Ÿå‘½å‘¨æœŸå‡½æ•°">5. ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h2>
<h3 id="5-1-æŒ‚è½½ç”Ÿå‘½å‘¨æœŸå‡½æ•°-componentdidmount">5-1. æŒ‚è½½ç”Ÿå‘½å‘¨æœŸå‡½æ•° <code>componentDidMount</code></h3>
<blockquote>
<p>ç»„ä»¶å·²ç»è¢«æ¸²æŸ“åˆ° DOM ä¸­åè¿è¡Œ</p>
</blockquote>
<h3 id="5-2-å¸è½½ç”Ÿå‘½å‘¨æœŸå‡½æ•°-componentwillunmount">5-2. å¸è½½ç”Ÿå‘½å‘¨æœŸå‡½æ•° <code>componentWillUnmount</code></h3>
<blockquote>
<p>ç»„ä»¶å¸è½½æ—¶è¿è¡Œ</p>
</blockquote>
<h1 id="6-äº‹ä»¶å¤„ç†">6. äº‹ä»¶å¤„ç†</h1>
<h2 id="1-ä¸ä¼ ç»Ÿhtmlçš„å†™æ³•ä¸åŒ">1. ä¸ä¼ ç»Ÿhtmlçš„å†™æ³•ä¸åŒ</h2>
<ol>
<li>React äº‹ä»¶çš„å‘½åé‡‡ç”¨å°é©¼å³°å¼ï¼ˆcamelCaseï¼‰ï¼Œè€Œä¸æ˜¯çº¯å°å†™ã€‚</li>
<li>ä½¿ç”¨ JSX è¯­æ³•æ—¶ä½ éœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li>
<li>äº‹ä»¶é˜»æ­¢é»˜è®¤è¡Œä¸ºä¸ç”¨<code>return false</code> , ä½¿ç”¨<code>e.preventDefault</code></li>
</ol>
<h2 id="2-å†™ä¸€ä¸ªè®¡æ•°å™¨æ¥ä½“éªŒäº‹ä»¶å¤„ç†">2. å†™ä¸€ä¸ªè®¡æ•°å™¨æ¥ä½“éªŒäº‹ä»¶å¤„ç†</h2>
<blockquote>
<ul>
<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œ æ ¹æ®JavaScript å‡½æ•°å·¥ä½œåŸç†,å¦‚æœä½ æ²¡æœ‰åœ¨æ–¹æ³•åé¢æ·»åŠ  ()ï¼Œä¾‹å¦‚ <code>onClick={this.handleClick}</code>ï¼Œä½ åº”è¯¥ä¸ºè¿™ä¸ªæ–¹æ³•ç»‘å®š this,å¦åˆ™thisæŒ‡å‘<code>undefined</code>ã€‚</li>
<li>åœ¨classç»„ä»¶ä¸­åˆ›å»ºæ–¹æ³•è¦æƒ³è®¿é—®åˆ°æ„é€ å‡½æ•°ä¸­çš„state,éœ€è¦ä½¿ç”¨<code>bind</code>ç»‘å®šthisæŒ‡å‘,éšå¼ä¼ é€’å‚æ•°</li>
</ul>
</blockquote>
<pre><code>// classç±»
class Lamp extends React.Component{
    constructor(props){  //æ„é€ å‡½æ•°
      super(props);
      this.state={
        num:0
      };
    // ä¸ºäº†åœ¨å›è°ƒä¸­ä½¿ç”¨ `this`ï¼Œè¿™ä¸ªç»‘å®šæ˜¯å¿…ä¸å¯å°‘çš„ã€‚åœ¨è‡ªå®šä¹‰å‡½æ•°ä¸­ç»‘å®šthisæŒ‡å‘
    this.addNum = this.addNum.bind(this);
    this.reduceNum = this.reduceNum.bind(this);
    }
   addNum(){
      this.setState((state)=&gt;{
        return {
          num:++state.num
        }
      })
      // console.log(this.state.num)
   }
  reduceNum(){
    this.setState((state)=&gt;{
      return {
        num:--state.num
      }
    })
  }
  render(){
    return (
    &lt;div&gt;
       &lt;button onClick={this.addNum}&gt;
          add
       &lt;/button&gt; 
       &lt;button style={{marginLeft:&quot;10px&quot;}} onClick={this.reduceNum}&gt;
         reduce
       &lt;/button&gt; 
      &lt;h1&gt;{this.state.num}&lt;/h1&gt;
    &lt;/div&gt;    
    )
    
  }
}
ReactDOM.render(&lt;Lamp /&gt;,document.getElementById(&quot;root&quot;))
</code></pre>
<h2 id="3-å‘äº‹ä»¶å¤„ç†ç¨‹åºä¼ é€’å‚æ•°">3. å‘äº‹ä»¶å¤„ç†ç¨‹åºä¼ é€’å‚æ•°</h2>
<h3 id="3-1-é€šè¿‡ç®­å¤´å‡½æ•°äº‹ä»¶å¯¹è±¡eä¼šé€šè¿‡ç¬¬äºŒä¸ªå‚æ•°æ˜¾ç¤ºä¼ é€’">3-1. é€šè¿‡ç®­å¤´å‡½æ•°ï¼ˆäº‹ä»¶å¯¹è±¡eä¼šé€šè¿‡ç¬¬äºŒä¸ªå‚æ•°æ˜¾ç¤ºä¼ é€’ï¼‰</h3>
<pre><code>...
  testFun(v){
    console.log(v)    //1
  }
...
  &lt;button onClick={()=&gt;{this.testFun(1)}}&gt;test&lt;/button&gt;
</code></pre>
<h3 id="3-2-ä½¿ç”¨-functionprototypebind-æ¥å®ç°äº‹ä»¶å¯¹è±¡ä»¥åŠæ›´å¤šçš„å‚æ•°å°†ä¼šè¢«éšå¼çš„è¿›è¡Œä¼ é€’">3-2. ä½¿ç”¨ <code>Function.prototype.bind</code> æ¥å®ç°ï¼ˆäº‹ä»¶å¯¹è±¡ä»¥åŠæ›´å¤šçš„å‚æ•°å°†ä¼šè¢«éšå¼çš„è¿›è¡Œä¼ é€’ï¼‰</h3>
<pre><code>...
  testFun(this,v){
    console.log(this,v)    // 2
  }
...
      &lt;button onClick={this.testFun.bind(this, 2)}&gt;test&lt;/button&gt;
</code></pre>
<h1 id="7-æ¡ä»¶æ¸²æŸ“">7. æ¡ä»¶æ¸²æŸ“</h1>
<blockquote>
<p>åˆ›å»ºä¸åŒçš„ç»„ä»¶æ¥å°è£…å„ç§ä½ éœ€è¦çš„è¡Œä¸º,ä¾æ®åº”ç”¨çš„ä¸åŒçŠ¶æ€ï¼Œä½ å¯ä»¥åªæ¸²æŸ“å¯¹åº”çŠ¶æ€ä¸‹çš„éƒ¨åˆ†å†…å®¹ã€‚ä½¿ç”¨ JavaScript è¿ç®—ç¬¦ if æˆ–è€…æ¡ä»¶è¿ç®—ç¬¦å»åˆ›å»ºå…ƒç´ æ¥è¡¨ç°å½“å‰çš„çŠ¶æ€ã€‚</p>
</blockquote>
<h2 id="1-æ ¹æ®æ¡ä»¶ifåˆ¤æ–­ç»„ä»¶æ˜¾ç¤º">1. æ ¹æ®æ¡ä»¶<code>if</code>åˆ¤æ–­ç»„ä»¶æ˜¾ç¤º</h2>
<pre><code>//ç»„ä»¶A
class ComponentA extends React.Component{
  render(){
    return &lt;h1&gt;ç»„ä»¶A&lt;/h1&gt;
  }
}
//ç»„ä»¶B
class ComponentB extends React.Component{
  render(){
    return &lt;h1&gt;ç»„ä»¶B&lt;/h1&gt;
  }
}
//æ ¹æ®propså€¼å†³å®šæ˜¾ç¤ºå“ªä¸ªç»„ä»¶
class ChooseComponent extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    if(this.props.isComponent=='A'){
        return &lt;ComponentA /&gt;
    }else{
      return  &lt;ComponentB /&gt;
    }
  }
}
ReactDOM.render(&lt;ChooseComponent isComponent=&quot;B&quot; /&gt; , document.getElementById(&quot;root&quot;))
</code></pre>
<h2 id="2-åœ¨jsxä¸­ä½¿ç”¨æ¡ä»¶è¿ç®—ç¬¦">2. åœ¨jsxä¸­ä½¿ç”¨æ¡ä»¶è¿ç®—ç¬¦</h2>
<ul>
<li>ä¸‰ç›®è¿ç®—ç¬¦</li>
</ul>
<pre><code>//ç»„ä»¶A
class ComponentA extends React.Component{
  render(){
    return &lt;h1&gt;ç»„ä»¶A&lt;/h1&gt;
  }
}
//ç»„ä»¶B
class ComponentB extends React.Component{
  render(){
    return &lt;h1&gt;ç»„ä»¶B&lt;/h1&gt;
  }
}
//æ ¹æ®propså€¼å†³å®šæ˜¾ç¤ºå“ªä¸ªç»„ä»¶
class ChooseComponent extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    return (
      &lt;div&gt;
        &lt;p&gt;
          æ­¤æ—¶{this.props.isComponent==&quot;B&quot;?&quot;æ˜¾ç¤ºB&quot;:&quot;æ˜¾ç¤ºA&quot;}ç»„ä»¶
        &lt;/p&gt;
      {this.props.isComponent==&quot;B&quot;?&lt;ComponentB /&gt;:&lt;ComponentA /&gt;}
      &lt;/div&gt; 
    )
  }
}
ReactDOM.render(&lt;ChooseComponent isComponent=&quot;A&quot; /&gt; , document.getElementById(&quot;root&quot;))
</code></pre>
<ul>
<li>ä½¿ç”¨é€»è¾‘&amp;&amp;,å‰é¢æœ‰å‡åˆ™å‡</li>
</ul>
<pre><code>//ç»„ä»¶A
class ComponentA extends React.Component{
  render(){
    return &lt;h1&gt;ç»„ä»¶A&lt;/h1&gt;
  }
}
//ç»„ä»¶B
class ComponentB extends React.Component{
  render(){
    return &lt;h1&gt;ç»„ä»¶B&lt;/h1&gt;
  }
}
//æ ¹æ®propså€¼å†³å®šæ˜¾ç¤ºå“ªä¸ªç»„ä»¶
class ChooseComponent extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    return (
      &lt;div&gt;
        {this.props.isComponent==&quot;A&quot; &amp;&amp;&lt;ComponentA/&gt;}
        {this.props.isComponent==&quot;B&quot; &amp;&amp;&lt;ComponentB/&gt;}
      &lt;/div&gt; 
    )
  }
}
ReactDOM.render(&lt;ChooseComponent isComponent=&quot;A&quot; /&gt; , document.getElementById(&quot;root&quot;))

</code></pre>
<h2 id="3-é˜»æ­¢ç»„ä»¶æ¸²æŸ“">3. é˜»æ­¢ç»„ä»¶æ¸²æŸ“</h2>
<blockquote>
<p>åœ¨ç»„ä»¶renderæ–¹æ³•ä¸­<code>return null</code></p>
</blockquote>
<pre><code>
//æ ¹æ®propså€¼å†³å®šæ˜¾ç¤ºå“ªä¸ªç»„ä»¶
class ChooseComponent extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    return null  //é˜»æ–­äº†ç»„ä»¶æ¸²æŸ“ï¼Œéšè—äº†ç»„ä»¶
    return (
      &lt;div&gt;
        {this.props.isComponent==&quot;A&quot; &amp;&amp;&lt;ComponentA/&gt;}
        {this.props.isComponent==&quot;B&quot; &amp;&amp;&lt;ComponentB/&gt;}
      &lt;/div&gt; 
    )
  }
}
ReactDOM.render(&lt;ChooseComponent isComponent=&quot;A&quot; /&gt; , document.getElementById(&quot;root&quot;))

</code></pre>
<h1 id="8-åˆ—è¡¨å’Œkey">8. åˆ—è¡¨å’Œkey</h1>
<h2 id="1-åŸºç¡€åˆ—è¡¨ç»„ä»¶">1. åŸºç¡€åˆ—è¡¨ç»„ä»¶</h2>
<blockquote>
<p>ä½¿ç”¨<code>map()</code>å°†å…ƒç´ æ ‡ç­¾æ”¾ç½®å¾ªç¯ä¸­èµ‹å€¼ç»™å˜é‡ï¼Œæ­¤å˜é‡æ¥æ”¶åˆ°äº†ä¸€ä¸ªåˆ—è¡¨ç»„ä»¶ã€‚</p>
</blockquote>
<pre><code>function Test(props){
  let arr=[1,2,3,4,5]
  let element=arr.map((v)=&gt;{
    return &lt;li&gt;{v}&lt;/li&gt;
  })
  return &lt;ul&gt;{element}&lt;/ul&gt;
}
ReactDOM.render(&lt;Test/&gt;, document.getElementById(&quot;root&quot;))
</code></pre>
<h2 id="2ä½¿ç”¨key">2.ä½¿ç”¨key</h2>
<h3 id="2-1-keyçš„ä½¿ç”¨">2-1. keyçš„ä½¿ç”¨</h3>
<p>æ ¹æ®ä¸Šé¢æ¡ˆä¾‹ä¸­ï¼Œå¦‚æœç»™<code>Test</code>ç»„ä»¶æ·»åŠ propsï¼Œä¼ é€’ä¸€ä¸ªæ•°ç»„å¹¶ä¸”ä½¿ç”¨è¯¥æ•°ç»„æ¥éå†ç»„ä»¶ï¼Œå°†ä¼šæŠ¥é”™<br>
<code>&quot;Warning: Each child in a list should have a unique 'key' prop.%s%s See</code><br>
æ­¤æ—¶éœ€è¦ç”¨åˆ°<code>key</code>ï¼š</p>
<pre><code>function Test(props){
  const numbers=props.numbers  //æ¥æ”¶æ•°ç»„
  let element=numbers.map((number,index)=&gt;{  //æ‰§è¡Œéå†
    return &lt;li key={index}&gt;{number}&lt;/li&gt;  //ç»™éå†å…ƒç´ æ·»åŠ key
  })
  return &lt;ul&gt;{element}&lt;/ul&gt;
}
const numbers=[1,2,3,4,5]
ReactDOM.render(&lt;Test numbers={numbers}/&gt;, document.getElementById(&quot;root&quot;))
</code></pre>
<h3 id="2-2-keyçš„ç†è§£å’Œæ³¨æ„ç‚¹">2-2. keyçš„ç†è§£å’Œæ³¨æ„ç‚¹</h3>
<ol>
<li>key å¸®åŠ© React è¯†åˆ«å…ƒç´ æ”¹å˜ï¼ˆæ¯”å¦‚è¢«æ·»åŠ æˆ–åˆ é™¤ï¼‰ï¼Œç»™æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ èµ‹äºˆä¸€ä¸ªç¡®å®šçš„æ ‡è¯†ã€‚</li>
<li>key æœ€å¥½å…ƒç´ åœ¨åˆ—è¡¨ä¸­æ‹¥æœ‰çš„ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨å…ƒç´ ç´¢å¼• index ä½œä¸º keyï¼Œä½†æ˜¯ä¼šå¯¼è‡´æ€§èƒ½å˜å·®ã€‚</li>
<li>å…ƒç´ çš„ key åªæœ‰æ”¾åœ¨å°±è¿‘çš„æ•°ç»„ä¸Šä¸‹æ–‡ä¸­æ‰æœ‰æ„ä¹‰ã€‚ï¼ˆåœ¨ map() æ–¹æ³•ä¸­çš„å…ƒç´ éœ€è¦è®¾ç½® key å±æ€§ã€‚ï¼‰</li>
<li>key å€¼åœ¨å…„å¼ŸèŠ‚ç‚¹ä¹‹é—´å¿…é¡»å”¯ä¸€ã€‚</li>
</ol>
<h1 id="9-è¡¨å•">9. è¡¨å•</h1>
<blockquote>
<p>React ä¸­ï¼Œå¯å˜çŠ¶æ€ï¼ˆmutable stateï¼‰é€šå¸¸ä¿å­˜åœ¨ç»„ä»¶çš„ state å±æ€§ä¸­ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡ä½¿ç”¨ setState()æ¥æ›´æ–°ã€‚</p>
</blockquote>
<h2 id="1-å—æ§ç»„ä»¶">1. å—æ§ç»„ä»¶</h2>
<blockquote>
<p>å¯¹äºå—æ§ç»„ä»¶æ¥è¯´ï¼Œè¾“å…¥çš„å€¼å§‹ç»ˆç”± React çš„ state é©±åŠ¨ã€‚(é€šè¿‡<code>onchange</code>ç›‘å¬å€¼çš„æ”¹å˜ç„¶åä¼ é€’ç»™state)</p>
</blockquote>
<pre><code>class TestForm extends React.Component{
  constructor(props){
    super(props)
      this.state={value:''}
      this.handleChange=this.handleChange.bind(this)
  }
  handleChange(e){
    this.setState({
      value:e.target.value
    })    
  }
  render(){
    return (&lt;div&gt;
      &lt;input value={this.state.value} onChange={this.handleChange} /&gt;
      &lt;p&gt;{this.state.value}&lt;/p&gt;
      &lt;/div&gt;)
  }
}

ReactDOM.render(&lt;TestForm/&gt;,document.getElementById(&quot;root&quot;))
</code></pre>
<ul>
<li>input</li>
</ul>
<pre><code>...
&lt;input value={this.state.value} onChange={this.handleChange} /&gt;
</code></pre>
<ul>
<li>textarea</li>
</ul>
<pre><code>textarea value={this.state.value} onChange={this.handleChange} /&gt;
...
</code></pre>
<ul>
<li>select æ ‡ç­¾</li>
</ul>
<pre><code>        &lt;label&gt;
          é€‰æ‹©ä½ å–œæ¬¢çš„é£å‘³:
          &lt;select value={this.state.value} onChange={this.handleChange}&gt;
            &lt;option value=&quot;grapefruit&quot;&gt;è‘¡è„æŸš&lt;/option&gt;
            &lt;option value=&quot;lime&quot;&gt;é…¸æ©™&lt;/option&gt;
            &lt;option value=&quot;coconut&quot;&gt;æ¤°å­&lt;/option&gt;
            &lt;option value=&quot;mango&quot;&gt;èŠ’æœ&lt;/option&gt;
          &lt;/select&gt;
        &lt;/label&gt;
</code></pre>
<h2 id="2-éå—æ§ç»„ä»¶">2. éå—æ§ç»„ä»¶</h2>
<ul>
<li><code>input[type='file']</code></li>
</ul>
<blockquote>
<p>fileå› ä¸ºå®ƒçš„ value åªè¯»ï¼Œæ‰€ä»¥å®ƒæ˜¯ React ä¸­çš„ä¸€ä¸ªéå—æ§ç»„ä»¶ã€‚</p>
</blockquote>
<pre><code>&lt;input type=&quot;file&quot; /&gt;
</code></pre>
<h2 id="3-å¤„ç†å¤šä¸ªè¾“å…¥">3. å¤„ç†å¤šä¸ªè¾“å…¥</h2>
<blockquote>
<p>å½“éœ€è¦å¤„ç†å¤šä¸ª input å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ¯ä¸ªå…ƒç´ æ·»åŠ  <code>name</code> å±æ€§ï¼Œå¹¶è®©å¤„ç†å‡½æ•°æ ¹æ® <code>event.target.name</code> çš„å€¼é€‰æ‹©è¦æ‰§è¡Œçš„æ“ä½œã€‚<br>
ä½¿ç”¨äº† ES6 è®¡ç®—å±æ€§åç§°çš„è¯­æ³•æ›´æ–°ç»™å®šè¾“å…¥åç§°å¯¹åº”çš„ state å€¼(é€šè¿‡<code>[]</code>ä¸­å†™è¡¨è¾¾å¼å¾—åˆ°å±æ€§åç§°)</p>
</blockquote>
<pre><code>class TestForm extends React.Component{
  constructor(props){
    super(props)
      this.state={
        oneVal:'',
        twoVal:0
      }
      this.handleChange=this.handleChange.bind(this)
  }
  handleChange(e){
    let value=e.target.value
    this.setState({
      [e.target.name]:value //ES6 è®¡ç®—å±æ€§åç§°çš„è¯­æ³•
    })    
  }
  render(){
    return (&lt;div&gt;
         &lt;input name=&quot;oneVal&quot; value={this.state.oneVal} onChange={this.handleChange} /&gt;&lt;br/&gt;
         &lt;input name=&quot;twoVal&quot; value={this.state.twoVal} onChange={this.handleChange} /&gt;
      &lt;p&gt;oneVal: {this.state.oneVal}&lt;/p&gt;&lt;br/&gt;
      &lt;p&gt;twoVal: {this.state.twoVal}&lt;/p&gt;
      &lt;/div&gt;)
  }
}

ReactDOM.render(&lt;TestForm/&gt;,document.getElementById(&quot;root&quot;))
</code></pre>
<h1 id="10-çŠ¶æ€æå‡">10. çŠ¶æ€æå‡</h1>
<h2 id="1-ç†è§£">1. ç†è§£</h2>
<blockquote>
<p>çŠ¶æ€æå‡ï¼šå°†å¤šä¸ªç»„ä»¶ä¸­éœ€è¦å…±äº«çš„ state å‘ä¸Šç§»åŠ¨åˆ°å®ƒä»¬çš„æœ€è¿‘å…±åŒçˆ¶ç»„ä»¶ä¸­ï¼Œä¾¿å¯å®ç°å…±äº« state</p>
</blockquote>
<blockquote>
<p>ç†è§£ï¼šaç»„ä»¶æœ‰ä¸ªstateå€¼ï¼Œbç»„ä»¶ä¹Ÿéœ€è¦æ—¶åº”å½“stateå€¼æå‡åˆ°çˆ¶ç»„ä»¶é€šè¿‡propsä¼ ä¸‹æ¥å®ç°å…„å¼Ÿç»„ä»¶å…±äº«.(çŠ¶æ€æå‡)</p>
</blockquote>
<h2 id="2-ä¸¾ä¾‹">2. ä¸¾ä¾‹</h2>
<blockquote>
<p>éœ€æ±‚: ç»„ä»¶1å­˜æ¸©åº¦,ç»„ä»¶2åˆ¤æ–­æ˜¯å¦åˆ°è¾¾æ²¸ç‚¹,ç»„ä»¶2éœ€è¦æ‹¿åˆ°ç»„ä»¶1ä¸­çš„stateå€¼æ¥åˆ¤æ–­ã€‚</p>
</blockquote>
<pre><code>/*
ç»„ä»¶1å­˜æ¸©åº¦
*/
class TestChildOne extends React.Component{
  constructor(props){
    super(props)
    this.state={
      num:0
    }
    this.handleNum=this.handleNum.bind(this)
  }
  handleNum(e){
    let value=e.target.value
    this.setState({
      num:value
    })
  }
  render(){
    const element=&lt;input value={this.state.num} onChange={this.handleNum}/&gt;  
    return element
  }
}
/*
ç»„ä»¶2åˆ¤æ–­æ˜¯å¦åˆ°è¾¾æ²¸ç‚¹
*/
class TestChildTwo extends React.Component{
  constructor(props){
    super(props)
    this.state={
      num:0
    }
  }
  render(){
    const element=(
    &lt;&gt;
        {this.state.num&gt;90?&quot;æ²¸ç‚¹åˆ°è¾¾äº†&quot;:&quot;è¿˜å·®ç‚¹æ¸©åº¦&quot;}
      &lt;input value={this.state.num} onChange={this.handleNum}/&gt;  
        &lt;/&gt;
    )
    return element
  }
}
</code></pre>
<blockquote>
<p>æ­¤æ—¶ä¸¤ä¸ªç»„ä»¶éƒ½å­˜åœ¨çŠ¶æ€<code>this.state.num</code>,å¯ä»¥å†™ä¸€ä¸ªçˆ¶ç»„ä»¶å­˜å‚¨è¯¥çŠ¶æ€ï¼Œçˆ¶ç»„ä»¶ä½¿ç”¨å±æ€§å‘é€ï¼Œä¸¤ä¸ªå­ç»„ä»¶ä½¿ç”¨propsæ¥æ”¶å€¼</p>
</blockquote>
<pre><code>class TestChildOne extends React.Component{
  constructor(props){
    super(props)
    this.state={  //ç»„ä»·è‡ªèº«ç»´æŠ¤çš„state
      num:0
    }
    this.handleNum=this.handleNum.bind(this)
  }
  handleNum(e){
    let value=e.target.value
    this.props.onChildOneHandle(value)  //å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶å‘é€å€¼
    }
  render(){
    let num=this.props.num
    const element=&lt;input value={num} onChange={this.handleNum}/&gt;  
    return element
  }
}

class TestChildTwo extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    const element=&lt;&gt;{this.props.num&gt;90?&quot;æ²¸ç‚¹åˆ°è¾¾äº†&quot;:&quot;è¿˜å·®ç‚¹æ¸©åº¦&quot;}&lt;/&gt;
    return element
  }
}


class TestParent extends React.Component{
  constructor(props){
    super(props)
    this.state={
      num:0
    }
    this.childOneHandle=this.childOneHandle.bind(this)
  }
  childOneHandle(val){//å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶é—´ä¼ å‚æ•°ï¼Œè‡ªå®šä¹‰äº‹ä»¶
    this.setState({
      num:val
    })
  }
  render(){
    const element=(
    &lt;&gt;
        &lt;TestChildOne num={this.state.num} onChildOneHandle={this.childOneHandle}/&gt;//è‡ªå®šä¹‰äº‹ä»¶æ¥æ”¶å­ç»„ä»¶çš„å€¼
        &lt;TestChildTwo  num={this.state.num} /&gt;
        &lt;/&gt;
    )
    return element
  }
}

ReactDOM.render(
  
  &lt;TestParent /&gt;
  
  ,document.getElementById(&quot;root&quot;))

</code></pre>
<p><a href="https://codepen.io/qincongh/pen/VwGwaEK?editors=0010">ç‚¹å‡»æŸ¥çœ‹è¿è¡Œç»“æœ</a></p>
<h2 id="3-æ€»ç»“">3. æ€»ç»“</h2>
<ol>
<li>å…„å¼Ÿç»„ä»·éœ€è¦å…±äº«stateæ—¶ï¼Œéœ€è¦çŠ¶æ€æå‡åˆ°çˆ¶ç»„ä»¶</li>
<li>çˆ¶ç»„ä»¶æ¥æ”¶å­ç»„ä»¶çš„æ•°æ®æ—¶éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶</li>
</ol>
<blockquote>
<p>çˆ¶ç»„ä»¶æ¥æ”¶å€¼</p>
</blockquote>
<pre><code>//1.åœ¨ç»„ä»¶ä¸Šå®šä¹‰äº‹ä»¶
    &lt;&gt;
        &lt;TestChildOne num={this.state.num} onChildOneHandle={this.childOneHandle}/&gt;//è‡ªå®šä¹‰äº‹ä»¶æ¥æ”¶å­ç»„ä»¶çš„å€¼
   
        &lt;/&gt;
...
//2. æ¥æ”¶å€¼è®¾ç½®state
  childOneHandle(val){//å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶é—´ä¼ å‚æ•°ï¼Œè‡ªå®šä¹‰äº‹ä»¶
    this.setState({
      num:val
    })


</code></pre>
<blockquote>
<p>å­ç»„ä»¶å‘é€å€¼</p>
</blockquote>
<pre><code>...
  handleNum(e){
    let value=e.target.value
    this.props.onChildOneHandle(value)  //å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶å‘é€å€¼
    }
  render(){
    let num=this.props.num
    const element=&lt;input value={num} onChange={this.handleNum}/&gt;  //inputç›‘å¬valueæ”¹å˜äº‹ä»¶
    return element
  }

...
</code></pre>
<h1 id="11ç»„åˆæ¨¡å¼">11.ç»„åˆæ¨¡å¼</h1>
<p>ä½¿ç”¨ç»„åˆæ¥å®ç°ç»„ä»¶é—´çš„ä»£ç é‡ç”¨ï¼ˆç±»ä¼¼vueçš„æ’æ§½ï¼‰</p>
<h2 id="1-ä½¿ç”¨propschildren">1. ä½¿ç”¨<code>props.children</code></h2>
<pre><code>clss ContainerLayout extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    return (
      &lt;div class=&quot;container-layout&quot;&gt;
        {this.props.children}
      &lt;/div&gt;
    )
  }
}

ReactDOM.render(
  &lt;ContainerLayout&gt;
     &lt;div class=&quot;main&quot;&gt;
       main
     &lt;/div&gt;
  &lt;/ContainerLayout&gt;
  ,document.getElementById(&quot;root&quot;))
</code></pre>
<h2 id="2-æŒ‡å®šå±æ€§å">2. æŒ‡å®šå±æ€§å</h2>
<pre><code>class ContainerLayout extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    const element=(
      &lt;div className=&quot;container-layout&quot;&gt;
            {this.props.header}
            {this.props.main}
            {this.props.footer}
      &lt;/div&gt;
    )
    return element
    
  }
}
class ContainerMain extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    const element=(
      &lt;div className=&quot;container-main&quot;&gt;
         main
      &lt;/div&gt;
    )
     return element
  }
}
class ContainerHeader extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    const element=(
      &lt;div className=&quot;container-header&quot;&gt;
          header
      &lt;/div&gt;
    )
     return element
  }
}
class ContainerFooter extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    const element=(
      &lt;div className=&quot;container-footer&quot;&gt;
            footer
      &lt;/div&gt;
    )
     return element
  }
}
ReactDOM.render(
  &lt;ContainerLayout
    header={&lt;ContainerHeader/&gt;}
    main={&lt;ContainerMain/&gt;}
    footer={&lt;ContainerFooter/&gt;}
    /&gt;  
,document.getElementById(&quot;root&quot;)
)
</code></pre>
<h1 id="12-ä»£ç åˆ†å‰²">12. ä»£ç åˆ†å‰²</h1>
<h2 id="1-æ‰“åŒ…æ¦‚å¿µ">1. æ‰“åŒ…æ¦‚å¿µ</h2>
<blockquote>
<p>æ‰“åŒ…æ˜¯ä¸€ä¸ªå°†æ–‡ä»¶å¼•å…¥å¹¶åˆå¹¶åˆ°ä¸€ä¸ªå•ç‹¬æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œæœ€ç»ˆå½¢æˆä¸€ä¸ª â€œbundleâ€ã€‚ æ¥ç€åœ¨é¡µé¢ä¸Šå¼•å…¥è¯¥ bundleï¼Œæ•´ä¸ªåº”ç”¨å³å¯ä¸€æ¬¡æ€§åŠ è½½ã€‚</p>
</blockquote>
<blockquote>
<p><code>Create React App</code>ä½¿ç”¨çš„<code>Webpack</code>è¿›è¡Œæ‰“åŒ…</p>
</blockquote>
<h2 id="2-ä½¿ç”¨import">2. ä½¿ç”¨<code>import()</code></h2>
<blockquote>
<p>ä½¿ç”¨ä¹‹å‰ï¼š</p>
</blockquote>
<pre><code>import { add } from './math';
console.log(add(16, 26));
</code></pre>
<blockquote>
<p>ä½¿ç”¨ä¹‹å</p>
</blockquote>
<pre><code>import(&quot;./math&quot;).then(math =&gt; {
  console.log(math.add(16, 26));
});
</code></pre>
<blockquote>
<p>å½“ <code>Webpack</code> è§£æåˆ°è¯¥è¯­æ³•æ—¶ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²ã€‚</p>
</blockquote>
<h2 id="3-ä½¿ç”¨reactlazyå¼•å…¥ç»„ä»¶">3. ä½¿ç”¨<code>React.lazy</code>å¼•å…¥ç»„ä»¶</h2>
<blockquote>
<p>React.lazy å‡½æ•°èƒ½è®©ä½ åƒæ¸²æŸ“å¸¸è§„ç»„ä»¶ä¸€æ ·å¤„ç†åŠ¨æ€å¼•å…¥ï¼ˆçš„ç»„ä»¶ï¼‰ã€‚</p>
</blockquote>
<blockquote>
<p>React.lazy æ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦åŠ¨æ€è°ƒç”¨ import()ã€‚å®ƒå¿…é¡»è¿”å›ä¸€ä¸ª Promiseï¼Œè¯¥ Promise éœ€è¦ resolve ä¸€ä¸ª defalut export çš„ React ç»„ä»¶ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨ Suspense ç»„ä»¶ä¸­æ¸²æŸ“ lazy ç»„ä»¶ï¼Œå¦‚æ­¤ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åœ¨ç­‰å¾…åŠ è½½ lazy ç»„ä»¶æ—¶åšä¼˜é›…é™çº§ï¼ˆå¦‚ loading æŒ‡ç¤ºå™¨ç­‰ï¼‰ã€‚</p>
</blockquote>
<p>ä½¿ç”¨:</p>
<pre><code>import React, { Suspense } from 'react';

const OtherComponent = React.lazy(() =&gt; import('./OtherComponent'));

function MyComponent() {
  return (
    &lt;div&gt;
      &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;  //å¼•å…¥ç»„ä»¶åŠ è½½æ—¶çš„æ˜¾ç¤ºï¼Œfallback å±æ€§æ¥å—ä»»ä½•åœ¨ç»„ä»¶åŠ è½½è¿‡ç¨‹ä¸­ä½ æƒ³å±•ç¤ºçš„ React å…ƒç´ ã€‚
        &lt;OtherComponent /&gt;
      &lt;/Suspense&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h1 id="13-context">13. Context</h1>
<h2 id="1ç†è§£">1.ç†è§£</h2>
<blockquote>
<p>Context æä¾›äº†ä¸€ç§åœ¨ç»„ä»¶ä¹‹é—´å…±äº«æ­¤ç±»å€¼çš„æ–¹å¼ï¼Œè€Œä¸å¿…æ˜¾å¼åœ°é€šè¿‡ç»„ä»¶æ ‘çš„é€å±‚ä¼ é€’ propsã€‚</p>
</blockquote>
<blockquote>
<p>Contextå…±äº«å…¨å±€çš„æ•°æ®ï¼Œä½¿ç”¨åœºæ™¯æœ‰å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–é¦–é€‰è¯­è¨€ç­‰ã€‚</p>
</blockquote>
<h2 id="2-api">2. API</h2>
<h3 id="2-1-reactcreatecontext">2-1. React.createContext</h3>
<pre><code>const MyContext = React.createContext(defaultValue);
</code></pre>
<ol>
<li>åˆ›å»ºä¸€ä¸ª Context å¯¹è±¡ã€‚å½“ React æ¸²æŸ“ä¸€ä¸ªè®¢é˜…äº†è¿™ä¸ª Context å¯¹è±¡çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šä»ç»„ä»¶æ ‘ä¸­ç¦»è‡ªèº«æœ€è¿‘çš„é‚£ä¸ªåŒ¹é…çš„ Provider ä¸­è¯»å–åˆ°å½“å‰çš„ context å€¼ã€‚</li>
<li>åªæœ‰å½“ç»„ä»¶æ‰€å¤„çš„æ ‘ä¸­æ²¡æœ‰åŒ¹é…åˆ° Provider æ—¶ï¼Œå…¶ defaultValue å‚æ•°æ‰ä¼šç”Ÿæ•ˆã€‚</li>
<li>å°† undefined ä¼ é€’ç»™ Provider çš„ value æ—¶ï¼Œæ¶ˆè´¹ç»„ä»¶çš„ defaultValue ä¸ä¼šç”Ÿæ•ˆã€‚</li>
</ol>
<h3 id="2-2-contextprovider">2-2. Context.Provider</h3>
<pre><code>&lt;MyContext.Provider value={/* æŸä¸ªå€¼ */}&gt;
</code></pre>
<ol>
<li>Context å¯¹è±¡éƒ½ä¼šè¿”å›ä¸€ä¸ª Provider React ç»„ä»¶ï¼Œå®ƒå…è®¸æ¶ˆè´¹ç»„ä»¶è®¢é˜… context çš„å˜åŒ–ã€‚</li>
<li>Provider æ¥æ”¶ä¸€ä¸ª value å±æ€§ï¼Œä¼ é€’ç»™æ¶ˆè´¹ç»„ä»¶ã€‚</li>
<li>å½“ Provider çš„ value å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå†…éƒ¨çš„æ‰€æœ‰æ¶ˆè´¹ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“</li>
</ol>
<h3 id="2-3-classcontexttype">2-3. Class.contextType</h3>
<ol>
<li>
<p>æŒ‚è½½åœ¨ class ä¸Šçš„ contextType å±æ€§ä¼šè¢«é‡èµ‹å€¼ä¸ºä¸€ä¸ªç”± React.createContext() åˆ›å»ºçš„ Context å¯¹è±¡ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ this.context æ¥æ¶ˆè´¹æœ€è¿‘ Context ä¸Šçš„é‚£ä¸ªå€¼ã€‚</p>
</li>
</ol>
<pre><code>class MyClass extends React.Component {
  componentDidMount() {
    let value = this.context;
    /* åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåï¼Œä½¿ç”¨ MyContext ç»„ä»¶çš„å€¼æ¥æ‰§è¡Œä¸€äº›æœ‰å‰¯ä½œç”¨çš„æ“ä½œ */
  }
  componentDidUpdate() {
    let value = this.context;
    /* ... */
  }
  componentWillUnmount() {
    let value = this.context;
    /* ... */
  }
  render() {
    let value = this.context;
    /* åŸºäº MyContext ç»„ä»¶çš„å€¼è¿›è¡Œæ¸²æŸ“ */
  }
}
const MyContext = React.createContext(defaultValue);
MyClass.contextType = MyContext;
</code></pre>
<blockquote>
<p>ä½¿ç”¨ static è¿™ä¸ªç±»å±æ€§æ¥åˆå§‹åŒ–ä½ çš„ contextType</p>
</blockquote>
<pre><code>class MyClass extends React.Component {
  static contextType = MyContext;
  render() {
    let value = this.context;
    /* åŸºäºè¿™ä¸ªå€¼è¿›è¡Œæ¸²æŸ“å·¥ä½œ */
  }
}
</code></pre>
<h3 id="2-4-contextconsumer">2-4. Context.Consumer</h3>
<pre><code>&lt;MyContext.Consumer&gt;
  {value =&gt; /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/}
&lt;/MyContext.Consumer&gt;
</code></pre>
<ol>
<li>React ç»„ä»¶ä¹Ÿå¯ä»¥è®¢é˜…åˆ° context å˜æ›´ã€‚</li>
</ol>
<h3 id="2-5-contextdisplayname">2-5. Context.displayName</h3>
<pre><code>const MyContext = React.createContext(/* some value */);
MyContext.displayName = 'MyDisplayName';

&lt;MyContext.Provider&gt;
 // åœ¨ DevTools ä¸­: &quot;MyDisplayName.Provider&quot; 
&lt;MyContext.Consumer&gt; 
// åœ¨ DevTools ä¸­: &quot;MyDisplayName.Consumer&quot; 
</code></pre>
<p>context å¯¹è±¡æ¥å—ä¸€ä¸ªåä¸º displayName çš„ propertyï¼Œç±»å‹ä¸ºå­—ç¬¦ä¸²ã€‚React DevTools ä½¿ç”¨è¯¥å­—ç¬¦ä¸²æ¥ç¡®å®š context è¦æ˜¾ç¤ºçš„å†…å®¹ã€‚</p>
<h2 id="3-åŠ¨æ€context-åŸºæœ¬ä½¿ç”¨">3. åŠ¨æ€Context---åŸºæœ¬ä½¿ç”¨</h2>
<blockquote>
<p>è®¾ç½®ä¸»é¢˜æ¡ˆä¾‹</p>
</blockquote>
<h3 id="3-1-åˆ›å»ºç»„ä»¶">3-1. åˆ›å»ºç»„ä»¶</h3>
<pre><code>class Container extends React.Component {...}  //å†…å®¹ç»„ä»¶
class ThemedButton  extends React.Component {...}  //æŒ‰é’® ï¼Œç”¨æ¥ä¿®æ”¹contextçŠ¶æ€
class App extends React.Component {...}//æ ¹ç»„ä»¶
</code></pre>
<h3 id="3-2-åˆ›å»ºcontextä½¿ç”¨contexttypeå°†contextå¼•å…¥ç»„ä»¶å†…éƒ¨">3-2. åˆ›å»ºcontextï¼Œä½¿ç”¨contextTypeå°†contextå¼•å…¥ç»„ä»¶å†…éƒ¨</h3>
<pre><code>//åˆ›å»ºcontext
const themes={
   dark:'#222',
   light:'#eee'
}
const ThemeContext = React.createContext(
  themes.dark // é»˜è®¤å€¼
);
Container.contextType=ThemeContext
ThemedButton.contextType=ThemeContext

</code></pre>
<h3 id="3-3-åœ¨appæ ¹ç»„ä»¶è®¾ç½®statestateçš„å€¼åŒ…å«contextçš„å±æ€§å’Œå€¼">3-3. åœ¨Appæ ¹ç»„ä»¶è®¾ç½®stateï¼Œstateçš„å€¼åŒ…å«contextçš„å±æ€§å’Œå€¼</h3>
<blockquote>
<p>ä½¿ç”¨ThemeContext.Providerå°†æ”¹å˜çš„stateä¼ åˆ°å†…éƒ¨ç»„ä»¶contextä¸­</p>
</blockquote>
<pre><code>class App extends React.Component {
  constructor(props){
    super(props)
    this.state={
      themes:themes.dark
    }
    this.changeThemes=this.changeThemes.bind(this)
  }
  changeThemes(){
    this.setState({
      themes:this.state.themes===themes.dark?themes.light:themes.dark
    })
  }
  render(){
    //ä½¿ç”¨ThemeContext.Provider çš„value å­ç»„ä»¶çš„contextçš„å€¼å°†ç”±valueå€¼å†³å®š å­ç»„ä»¶ä½¿ç”¨contextæ¥æ”¶å€¼
    //ThemeContext.Provider å¤–çš„ç»„ä»¶çš„contextå€¼æ˜¯é»˜è®¤å€¼
    return (
     &lt;ThemeContext.Provider value={this.state.themes}&gt;
      &lt;Container changeThemes={this.changeThemes}&gt;&lt;/Container&gt;
     &lt;/ThemeContext.Provider&gt;
        )
  }
}

</code></pre>
<h3 id="3-4-åœ¨appå†…éƒ¨ç»„ä»¶ä¸­ä¼ é€’äº‹ä»¶">3-4. åœ¨Appå†…éƒ¨ç»„ä»¶ä¸­ä¼ é€’äº‹ä»¶</h3>
<pre><code>//å†…å®¹æ ·å¼
class Container extends React.Component {
  constructor(props){
    super(props)
  }
  render(){
     let themes=this.context  //è·å–contextå€¼
     console.log(this.context)
    return (
      &lt;div style={{width:'100%',height:'500px',border:'10px solid skyblue',background:themes}}&gt;
        &lt;ThemedButton onClick={this.props.changeThemes}/&gt;
      &lt;/div&gt;
    )
  }
}
//æŒ‰é’®
class ThemedButton  extends React.Component {
  constructor(props){
    super(props)
  }
  render(){
    //{...this.props} å°†propsä¼ é€’çš„å±æ€§å…¨éƒ¨ä½¿ç”¨
    return (
      &lt;button {...this.props}&gt;ç‚¹å‡»åˆ‡æ¢ / {this.context}&lt;/button&gt;
    )
  }
}
</code></pre>
<h3 id="3-5-æ‰€æœ‰ä»£ç ">3-5. æ‰€æœ‰ä»£ç </h3>
<pre><code>//å†…å®¹æ ·å¼
class Container extends React.Component {
  constructor(props){
    super(props)
  }
  render(){
     let themes=this.context
     console.log(this.context)
    return (
      &lt;div style={{width:'100%',height:'500px',border:'10px solid skyblue',background:themes}}&gt;
        &lt;ThemedButton onClick={this.props.changeThemes}/&gt;
      &lt;/div&gt;
    )
  }
}
//æŒ‰é’®
class ThemedButton  extends React.Component {
  constructor(props){
    super(props)
  }
  render(){
    //{...this.props} å°†propsä¼ é€’çš„å±æ€§å…¨éƒ¨ä½¿ç”¨
    return (
      &lt;button {...this.props}&gt;ç‚¹å‡»åˆ‡æ¢ / {this.context}&lt;/button&gt;
    )
  }
}
//åˆ›å»ºcontext
const themes={
   dark:'#222',
   light:'#eee'
}
const ThemeContext = React.createContext(
  themes.dark // é»˜è®¤å€¼
);
Container.contextType=ThemeContext
ThemedButton.contextType=ThemeContext
class App extends React.Component {
  constructor(props){
    super(props)
    this.state={
      themes:themes.dark
    }
    this.changeThemes=this.changeThemes.bind(this)
  }
  changeThemes(){
    this.setState({
      themes:this.state.themes===themes.dark?themes.light:themes.dark
    })
  }
  render(){
    //ä½¿ç”¨ThemeContext.Provider çš„value å­ç»„ä»¶çš„contextçš„å€¼å°†ç”±valueå€¼å†³å®š å­ç»„ä»¶ä½¿ç”¨contextæ¥æ”¶å€¼
    //ThemeContext.Provider å¤–çš„ç»„ä»¶çš„contextå€¼æ˜¯é»˜è®¤å€¼
    return (
     &lt;ThemeContext.Provider value={this.state.themes}&gt;
      &lt;Container changeThemes={this.changeThemes}&gt;&lt;/Container&gt;
     &lt;/ThemeContext.Provider&gt;
        )
  }
}


const root=ReactDOM.createRoot(document.getElementById('root'))
root.render(&lt;App/&gt;)
</code></pre>
<p><a href="https://codepen.io/qincongh/pen/wvEajxL">codepenæŸ¥çœ‹è¿è¡Œ</a></p>
<h2 id="4-åµŒå¥—ç»„ä»¶ä¸­æ›´æ–°context">4. åµŒå¥—ç»„ä»¶ä¸­æ›´æ–°Context</h2>
<blockquote>
<p>æ ¹ç»„ä»¶ç»™è¾ƒæ·±çš„å­ç»„ä»¶ä¼ é€’context ä¸”ä½¿ç”¨è¾ƒæ·±ç»„ä»¶æ›´æ–°contextçŠ¶æ€çš„æ–¹æ³•</p>
</blockquote>
<h3 id="4-1-åˆ›å»ºä¸€ä¸ªcontext">4-1. åˆ›å»ºä¸€ä¸ªcontext</h3>
<blockquote>
<p>ç¡®ä¿ä¼ é€’ç»™ createContext çš„é»˜è®¤å€¼æ•°æ®ç»“æ„æ˜¯è°ƒç”¨çš„ç»„ä»¶ï¼ˆconsumersï¼‰æ‰€èƒ½åŒ¹é…çš„</p>
</blockquote>
<pre><code>const themesContext=React.createContext({
  theme:'dark',
  changeTheme:()=&gt;{}
})
</code></pre>
<h3 id="4-2-åœ¨æ ¹ç»„ä»¶æ·»åŠ state">4-2. åœ¨æ ¹ç»„ä»¶æ·»åŠ state</h3>
<blockquote>
<p>stateä¸­åŒ…å«æ›´æ–°stateå‡½æ•°ï¼Œé€šè¿‡<code>context provider</code>ä¼ é€’è‡³æ ¹ç»„ä»¶</p>
</blockquote>
<pre><code>class App extends React.Component{
  constructor(props){
    super(props)
       this.changeTheme=()=&gt;{
        this.setState(state=&gt;{
         return{
          theme:state.theme===&quot;#222&quot;?themes.light:themes.dark
         }
        })
       }
      this.state={
          theme:themes.dark,
          changeTheme:this.changeTheme
        }
  }

  render(){
    return (
      &lt;ThemesContext.Provider value={this.state}&gt;
      &lt;Content/&gt;
     &lt;/ThemesContext.Provider&gt;
    )
  }
}
</code></pre>
<h3 id="4-3-åœ¨åµŒç»„ä»¶ä¸­ä½¿ç”¨themecontextconsumer">4-3. åœ¨åµŒç»„ä»¶ä¸­ä½¿ç”¨<code>ThemeContext.Consumer</code></h3>
<blockquote>
<p>é€šè¿‡ context ä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å¾— consumers ç»„ä»¶æ›´æ–° context</p>
</blockquote>
<pre><code>//åµŒå¥—ç»„ä»¶
class ChangeButton extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    return (
     &lt;ThemesContext.Consumer&gt;
        {
          ({theme,changeTheme})=&gt;{
            console.log(theme,changeTheme)
            return &lt;button onClick={changeTheme}&gt;{theme=='#222'?'ç™½å¤©':'é»‘å¤œ'}&lt;/button&gt;
          }
          
        }
      
     &lt;/ThemesContext.Consumer&gt;   
           )
  }
}
class Content extends React.Component{
  constructor(props){
    super(props)
  }
  render(){
    // console.log(this.context) 
    return (
    &lt;div&gt;
      &lt;ChangeButton/&gt;
    &lt;/div&gt;
    )
  }
}
</code></pre>
<p><a href="https://codepen.io/qincongh/pen/OJoyjQB?editors=0011">codepenæŸ¥çœ‹è¿è¡Œ</a></p>
<h2 id="5-ä¸€ä¸ªç»„ä»¶æ¶ˆè´¹å¤šä¸ª-context">5. ä¸€ä¸ªç»„ä»¶æ¶ˆè´¹å¤šä¸ª Context</h2>
<h3 id="5-1-ç»„ä»¶ä¸­æä¾›åˆå§‹-context-å€¼">5-1. ç»„ä»¶ä¸­æä¾›åˆå§‹ context å€¼</h3>
<pre><code>class App extends React.Component {
  render() {
    const {signedInUser, theme} = this.props;

    // æä¾›åˆå§‹ context å€¼çš„ App ç»„ä»¶
    return (
      &lt;ThemeContext.Provider value={theme}&gt;
        &lt;UserContext.Provider value={signedInUser}&gt;
          &lt;Layout /&gt;
        &lt;/UserContext.Provider&gt;
      &lt;/ThemeContext.Provider&gt;
    );
  }
}

</code></pre>
<h3 id="5-2-ç»„ä»¶ä¸­ä½¿ç”¨å¤šä¸ª-context">5-2. ç»„ä»¶ä¸­ä½¿ç”¨å¤šä¸ª context</h3>
<pre><code>// ä¸€ä¸ªç»„ä»¶å¯èƒ½ä¼šæ¶ˆè´¹å¤šä¸ª context
function Content() {
  return (
    &lt;ThemeContext.Consumer&gt;
      {theme =&gt; (
        &lt;UserContext.Consumer&gt;
          {user =&gt; (
            &lt;ProfilePage user={user} theme={theme} /&gt;
          )}
        &lt;/UserContext.Consumer&gt;
      )}
    &lt;/ThemeContext.Consumer&gt;
  );
}
</code></pre>
<h1 id="14-é”™è¯¯è¾¹ç•Œ">14. é”™è¯¯è¾¹ç•Œ</h1>
<h2 id="1-ç†è§£-2">1. ç†è§£</h2>
<ol>
<li>
<p>é”™è¯¯è¾¹ç•Œæ˜¯ä¸€ç§ React ç»„ä»¶ï¼Œè¿™ç§ç»„ä»¶å¯ä»¥æ•è·å¹¶æ‰“å°å‘ç”Ÿåœ¨å…¶å­ç»„ä»¶æ ‘ä»»ä½•ä½ç½®çš„ JavaScript é”™è¯¯ï¼Œå¹¶ä¸”ï¼Œå®ƒä¼šæ¸²æŸ“å‡ºå¤‡ç”¨ UIï¼Œè€Œä¸æ˜¯æ¸²æŸ“é‚£äº›å´©æºƒäº†çš„å­ç»„ä»¶æ ‘ã€‚<br>
(ç®€å•ç†è§£: å­ç»„ä»¶å‘ç”Ÿé”™è¯¯æ—¶ï¼Œæ¸²æŸ“å¤‡ç”¨UIçš„ç»„ä»¶ã€‚)</p>
</li>
<li>
<p>åªæœ‰ class ç»„ä»¶æ‰å¯ä»¥æˆä¸ºé”™è¯¯è¾¹ç•Œç»„ä»¶ã€‚</p>
</li>
<li>
<p>å¤§å¤šæ•°æƒ…å†µåªéœ€è¦å£°æ˜ä¸€ä¸ªé”™è¯¯è¾¹ç•Œç»„ä»¶ï¼Œåœ¨æ•´ä¸ªåº”ç”¨å»ä½¿ç”¨</p>
</li>
</ol>
<h2 id="2-ä½¿ç”¨">2. ä½¿ç”¨</h2>
<h3 id="2-1-å®šä¹‰å…¬å…±ç»„ä»¶åœ¨éœ€è¦çš„åœ°æ–¹ä½¿ç”¨è¿™ä¸ªç»„ä»¶åŒ…è£¹å­ç»„ä»¶">2-1. å®šä¹‰å…¬å…±ç»„ä»¶ï¼Œåœ¨éœ€è¦çš„åœ°æ–¹ä½¿ç”¨è¿™ä¸ªç»„ä»¶åŒ…è£¹å­ç»„ä»¶</h3>
<pre><code>class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error) {
    // æ›´æ–° state ä½¿ä¸‹ä¸€æ¬¡æ¸²æŸ“èƒ½å¤Ÿæ˜¾ç¤ºé™çº§åçš„ UI
    return { hasError: true };
  }

  componentDidCatch(error, errorInfo) {
    // æ•è·é”™è¯¯ä¿¡æ¯
    // ä½ åŒæ ·å¯ä»¥å°†é”™è¯¯æ—¥å¿—ä¸ŠæŠ¥ç»™æœåŠ¡å™¨
    logErrorToMyService(error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      // æ¸²æŸ“é”™è¯¯è§†å›¾
      return &lt;h1&gt;Something went wrong.&lt;/h1&gt;;
    }

    // æ¸²æŸ“æ­£ç¡®è§†å›¾
    return this.props.children; 
  }
}
</code></pre>
<h3 id="2-2-åœ¨ç»„ä»¶ä¸­ä½¿ç”¨">2-2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</h3>
<pre><code>&lt;ErrorBoundary&gt;
  &lt;MyWidget /&gt; // è‡ªå®šä¹‰ç»„ä»¶
&lt;/ErrorBoundary&gt;
</code></pre>
<h2 id="3-æ³¨æ„ç‚¹">3. æ³¨æ„ç‚¹</h2>
<blockquote>
<p>é”™è¯¯è¾¹ç•Œæ— æ³•æ•è·ä»¥ä¸‹åœºæ™¯ä¸­äº§ç”Ÿçš„é”™è¯¯ï¼š<br>
äº‹ä»¶å¤„ç†ï¼ˆäº†è§£æ›´å¤šï¼‰<br>
å¼‚æ­¥ä»£ç ï¼ˆä¾‹å¦‚ setTimeout æˆ– requestAnimationFrame å›è°ƒå‡½æ•°ï¼‰ã€‚ä½¿ç”¨try...catch{}<br>
æœåŠ¡ç«¯æ¸²æŸ“<br>
å®ƒè‡ªèº«æŠ›å‡ºæ¥çš„é”™è¯¯ï¼ˆå¹¶éå®ƒçš„å­ç»„ä»¶ï¼‰</p>
</blockquote>
<h1 id="15-refsè½¬å‘">15. Refsè½¬å‘</h1>
<blockquote>
<p>Ref è½¬å‘æ˜¯ä¸€é¡¹å°† ref è‡ªåŠ¨åœ°é€šè¿‡ç»„ä»¶ä¼ é€’åˆ°å…¶ä¸€å­ç»„ä»¶çš„æŠ€å·§</p>
</blockquote>
<h2 id="1-ä½¿ç”¨refåœ¨ç»„ä»¶å†…éƒ¨è·å–dom">1. ä½¿ç”¨Refåœ¨ç»„ä»¶å†…éƒ¨è·å–dom</h2>
<ul>
<li>ä½¿ç”¨<code>ref.name</code>æ ‡è®°</li>
<li>ä½¿ç”¨<code>this.refs.name</code>è·å–å€¼</li>
</ul>
<pre><code>class Container extends React.Component{
  constructor(props){
    super(props)
  }
  componentDidMount(){  //æŒ‚è½½ç”Ÿå‘½å‘¨æœŸ
    console.log(this.refs.containerDom) //&lt;div class=&quot;container&quot;&gt;main&lt;/div&gt;
    console.log(this.refs.containerDom.className)//container
  }
  render(){
    return (
      &lt;div ref=&quot;containerDom&quot; className=&quot;container&quot;&gt;
        main
      &lt;/div&gt;
    )
  }
}
const root = ReactDOM.createRoot(document.getElementById('root'))
root.render(&lt;Container/&gt;)
</code></pre>
<h2 id="2-è½¬å‘è‡ªå®šä¹‰ç»„ä»¶ä¸­çš„refs">2. è½¬å‘è‡ªå®šä¹‰ç»„ä»¶ä¸­çš„refs</h2>
<blockquote>
<p><code>React.forwardRef</code>åˆ›å»ºçš„ç»„ä»¶å¯ä»¥å…±äº«è‡ªèº«ç»‘å®šçš„ref</p>
</blockquote>
<ol>
<li><u>ä½¿ç”¨<code>React.forwardRef((props,ref)=&gt;{...})</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ªç»„ä»¶</u>ã€‚è¯¥æ–¹æ³•å¤šäº†ä¸€ä¸ªrefå‚æ•°ï¼Œè¯¥å‚æ•°æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„refå¹¶ç»‘å®šç»™å†…éƒ¨ç»„ä»¶refä¸Šã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªrenderã€‚</li>
<li><u>åœ¨å¤–éƒ¨ç»„ä»¶ä½¿ç”¨</u>ã€‚ä½¿ç”¨<code>React.createRef()</code>åˆ›å»ºä¸€ä¸ªå˜é‡ï¼Œå°†è¯¥å˜é‡ç»‘å®šåˆ°forwardRefåˆ›å»ºçš„ç»„ä»¶refä¸Š</li>
<li><u>è·å–å…±äº«çš„ref</u>ã€‚<code>React.createRef()</code>åˆ›å»ºçš„å˜é‡è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„currentå±æ€§å¯ä»¥æ‹¿åˆ°forwardRefåˆ›å»ºçš„ç»„ä»¶refã€‚</li>
</ol>
<pre><code>
class Container extends React.Component{
  constructor(props){
        super(props)
        this.containerBtnDom=React.createRef()
  }
  componentDidMount(){  //æŒ‚è½½ç”Ÿå‘½å‘¨æœŸ
    console.log(this.containerBtnDom)  //è¿”å›å€¼: {current: button.container-button}
  }
  render(){
    return (
      &lt;div ref=&quot;containerDom&quot; className=&quot;container&quot;&gt;
        &lt;ContainerButton ref={this.containerBtnDom}&gt;
          main
        &lt;/ContainerButton&gt;
      &lt;/div&gt;
    )
  }
}

const ContainerButton=React.forwardRef((props,ref)=&gt;{ //å…±äº«refï¼Œè¯¥æ–¹æ³•ç›¸æ¯”äºåˆ›å»ºç»„ä»¶çš„æ–¹æ³•å¤šäº†ä¸€ä¸ªrefå‚æ•°
  //è¿”å›ä¸€ä¸ªrender
  return &lt;button className=&quot;container-button&quot; ref={ref}&gt;ç‚¹å‡»&lt;/button&gt;
})
const root = ReactDOM.createRoot(document.getElementById('root'))
root.render(&lt;Container/&gt;)

</code></pre>
<h2 id="3-åœ¨é«˜é˜¶ç»„ä»¶ä¸­è½¬å‘-refs">3. åœ¨é«˜é˜¶ç»„ä»¶ä¸­è½¬å‘ refs</h2>
<h2 id="4-åœ¨-devtools-ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰åç§°">4. åœ¨ DevTools ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰åç§°</h2>
<h1 id="16-fragments">16. Fragments</h1>
<h2 id="1-ç†è§£-3">1. ç†è§£</h2>
<blockquote>
<p>Fragments å…è®¸ä½ å°†å­åˆ—è¡¨åˆ†ç»„ï¼Œè€Œæ— éœ€å‘ DOM æ·»åŠ é¢å¤–èŠ‚ç‚¹ã€‚ï¼ˆç©ºç»„ä»¶ï¼Œå ä½ç»„ä»¶ï¼‰</p>
</blockquote>
<h2 id="2-ä½¿ç”¨-2">2. ä½¿ç”¨</h2>
<h3 id="2-1-reactfragment">2-1. <code>React.Fragment</code></h3>
<p><code>&lt;React.Fragment&gt;..&lt;/React.Fragment&gt;</code></p>
<pre><code>class Columns extends React.Component {
  render() {
    return (
      &lt;React.Fragment&gt;
        &lt;td&gt;Hello&lt;/td&gt;
        &lt;td&gt;World&lt;/td&gt;
      &lt;/React.Fragment&gt;
    );
  }
}

class Table extends React.Component {
  render() {
    return (
      &lt;table&gt;
        &lt;tr&gt;
          &lt;Columns /&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    );
  }
}
</code></pre>
<blockquote>
<p>æ­¤æ—¶Tableæ­£ç¡®è¾“å‡ºtableï¼š</p>
</blockquote>
<pre><code>&lt;table&gt;
  &lt;tr&gt;
    &lt;div&gt;
      &lt;td&gt;Hello&lt;/td&gt;
      &lt;td&gt;World&lt;/td&gt;
    &lt;/div&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre>
<h3 id="2-2-çŸ­è¯­æ³•">2-2. çŸ­è¯­æ³•</h3>
<p><code>&lt;&gt;...&lt;/&gt;</code></p>
<pre><code>class Columns extends React.Component {
  render() {
    return (
      &lt;&gt;
        &lt;td&gt;Hello&lt;/td&gt;
        &lt;td&gt;World&lt;/td&gt;
      &lt;/&gt;
    );
  }
}
</code></pre>
<h2 id="3-fragmentså¯ä¼ é€’keyå±æ€§">3. Fragmentså¯ä¼ é€’keyå±æ€§</h2>
<blockquote>
<p>key æ˜¯ç›®å‰å”¯ä¸€å¯ä»¥ä¼ é€’ç»™ Fragment çš„å±æ€§ã€‚<br>
åœ¨éå†ä¸€ä¸ªæ•°ç»„æ—¶ä½¿ç”¨åˆ°äº†<code>Fragments</code>å¯ä»¥ç»™<code>Fragments</code>æ·»åŠ key</p>
</blockquote>
<pre><code>function Glossary(props) {
  return (
    &lt;dl&gt;
      {props.items.map(item =&gt; (
        // æ²¡æœ‰`key`ï¼ŒReact ä¼šå‘å‡ºä¸€ä¸ªå…³é”®è­¦å‘Š
        &lt;React.Fragment key={item.id}&gt;
          &lt;dt&gt;{item.term}&lt;/dt&gt;
          &lt;dd&gt;{item.description}&lt;/dd&gt;
        &lt;/React.Fragment&gt;
      ))}
    &lt;/dl&gt;
  );
}
</code></pre>
<h1 id="17-é«˜é˜¶ç»„ä»¶">17. é«˜é˜¶ç»„ä»¶</h1>
<h2 id="1-ç†è§£-4">1. ç†è§£</h2>
<blockquote>
<p>é«˜é˜¶ç»„ä»¶æ˜¯å‚æ•°ä¸ºç»„ä»¶ï¼Œè¿”å›å€¼ä¸ºæ–°ç»„ä»¶çš„å‡½æ•°ã€‚</p>
</blockquote>
<blockquote>
<p>ç»„ä»¶æ˜¯å°† props è½¬æ¢ä¸º UIï¼Œè€Œé«˜é˜¶ç»„ä»¶æ˜¯å°†ç»„ä»¶è½¬æ¢ä¸ºå¦ä¸€ä¸ªç»„ä»¶ã€‚</p>
</blockquote>
<h1 id="18-jsxè¯¦è§£">18. jsxè¯¦è§£</h1>
<h2 id="1-jsxç¼–è¯‘çš„ç»“æœ">1. Jsxç¼–è¯‘çš„ç»“æœ</h2>
<blockquote>
<p>JSX ä»…ä»…åªæ˜¯ <code>React.createElement(component, props, ...children)</code> å‡½æ•°çš„è¯­æ³•ç³–ã€‚</p>
</blockquote>
<p>jsxè¯­å¥</p>
<pre><code>&lt;MyButton color=&quot;blue&quot; shadowSize={2}&gt;
  Click Me
&lt;/MyButton&gt;

&lt;div className=&quot;container&quot;&gt;
</code></pre>
<p>ç¼–è¯‘ä¸ºï¼š</p>
<pre><code>React.createElement(
  MyButton,
  {color: 'blue', shadowSize: 2},
  'Click Me'
)

React.createElement(
  'div',
  {className: 'container'}
)
</code></pre>
<h2 id="2-reactå¿…é¡»åœ¨ä½œç”¨åŸŸå†…">2. Reactå¿…é¡»åœ¨ä½œç”¨åŸŸå†…</h2>
<blockquote>
<p>JSX ä¼šç¼–è¯‘ä¸º React.createElement è°ƒç”¨å½¢å¼ï¼Œæ‰€ä»¥ React åº“ä¹Ÿå¿…é¡»åŒ…å«åœ¨ JSX ä»£ç ä½œç”¨åŸŸå†…ã€‚(ç›´æ¥é€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾åŠ è½½ Reactï¼Œåˆ™å¿…é¡»å°† React æŒ‚è½½åˆ°å…¨å±€å˜é‡ä¸­)</p>
</blockquote>
<pre><code>import React from 'react';
import CustomButton from './CustomButton';

function WarningButton() {
  // return React.createElement(CustomButton, {color: 'red'}, null);
  return &lt;CustomButton color=&quot;red&quot; /&gt;;
}
</code></pre>
<h2 id="3-ä½¿ç”¨ç‚¹è¯­æ³•æ¥å¼•ç”¨ä¸€ä¸ª-react-ç»„ä»¶">3. ä½¿ç”¨ç‚¹è¯­æ³•æ¥å¼•ç”¨ä¸€ä¸ª React ç»„ä»¶</h2>
<pre><code>import React from 'react';
const MyComponents = {
  DatePicker: function DatePicker(props) {//ç»„ä»¶
    return &lt;div&gt;Imagine a {props.color} datepicker here.&lt;/div&gt;;
  }
}
function BlueDatePicker() {
  return &lt;MyComponents.DatePicker color=&quot;blue&quot; /&gt;;  //ç›´æ¥å¼•ç”¨
}

</code></pre>
<h2 id="4-è‡ªå®šä¹‰çš„ç»„ä»¶å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´">4. è‡ªå®šä¹‰çš„ç»„ä»¶å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´</h2>
<h2 id="5-propså¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼">5. propså¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼</h2>
<h2 id="6-å­—ç¬¦ä¸²å­—é¢é‡">6. å­—ç¬¦ä¸²å­—é¢é‡</h2>
<p>ä»¥ä¸‹ä¸¤ä¸ª JSX è¡¨è¾¾å¼æ˜¯ç­‰ä»·çš„ï¼š</p>
<pre><code>&lt;MyComponent message=&quot;hello world&quot; /&gt;

&lt;MyComponent message={'hello world'} /&gt;
</code></pre>
<h2 id="7-props-é»˜è®¤å€¼ä¸º-true">7. Props é»˜è®¤å€¼ä¸º â€œTrueâ€</h2>
<p>ä»¥ä¸‹ä¸¤ä¸ª JSX è¡¨è¾¾å¼æ˜¯ç­‰ä»·çš„ï¼š</p>
<pre><code>&lt;MyTextBox autocomplete /&gt;

&lt;MyTextBox autocomplete={true} /&gt;
</code></pre>
<h2 id="8-å±æ€§å±•å¼€">8. å±æ€§å±•å¼€</h2>
<blockquote>
<p>ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ ... æ¥åœ¨ JSX ä¸­ä¼ é€’æ•´ä¸ª props å¯¹è±¡</p>
</blockquote>
<pre><code>function App1() {
  return &lt;Greeting firstName=&quot;Ben&quot; lastName=&quot;Hector&quot; /&gt;;
}

function App2() {
  const props = {firstName: 'Ben', lastName: 'Hector'};
  return &lt;Greeting {...props} /&gt;;
}
</code></pre>
<h2 id="9-å¸ƒå°”ç±»å‹-null-ä»¥åŠ-undefined-å°†ä¼šå¿½ç•¥">9. å¸ƒå°”ç±»å‹ã€Null ä»¥åŠ Undefined å°†ä¼šå¿½ç•¥</h2>
<pre><code>&lt;div /&gt;

&lt;div&gt;&lt;/div&gt;

&lt;div&gt;{false}&lt;/div&gt;

&lt;div&gt;{null}&lt;/div&gt;

&lt;div&gt;{undefined}&lt;/div&gt;

&lt;div&gt;{true}&lt;/div&gt;
</code></pre>
<h1 id="19-portals">19. Portals</h1>
<h2 id="1-ç†è§£-5">1. ç†è§£</h2>
<blockquote>
<p>Portalså°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶ä»¥å¤–çš„ DOM èŠ‚ç‚¹ã€‚<br>
ä½¿ç”¨åœºæ™¯:å¯¹è¯æ¡†ã€æ‚¬æµ®å¡ä»¥åŠæç¤ºæ¡†ã€‚</p>
</blockquote>
<h2 id="2-åŸºæœ¬ä½¿ç”¨">2. åŸºæœ¬ä½¿ç”¨</h2>
<blockquote>
<p><code>ReactDOM.createPortal(child, container)</code>  childï¼šä»»ä½•reactç»„ä»¶ã€‚containerï¼š domå…ƒç´ </p>
</blockquote>
<p><code>å­ç»„ä»¶ï¼ˆPortalsç»„ä»¶ï¼‰</code></p>
<pre><code>// the portal API.
class Modal extends React.Component {
  constructor(props) {
    super(props);
    // Create a div that we'll render the modal into. Because each
    // Modal component has its own element, we can render multiple
    // modal components into the modal container.
    this.el = document.createElement('div');
  }

  componentDidMount() {  //ç»„ä»¶ç»‘å®šæ—¶
    // Append the element into the DOM on mount. We'll render
    // into the modal container element (see the HTML tab).
    modalRootEl.appendChild(this.el);
  }

  componentWillUnmount() {  //ç»„ä»¶é”€æ¯æ—¶
    // Remove the element from the DOM when we unmount
    modalRootEl.removeChild(this.el);
  }
  
  render() {
    // Use a portal to render the children into the element
    return ReactDOM.createPortal(
      // ä»»ä½•reactå­ç»„ä»¶: JSX, strings, arrays, etc.
      this.props.children,
      // DOMå…ƒç´ 
      this.el,
    );
  }
}

</code></pre>
<p><code>çˆ¶ç»„ä»¶</code></p>
<pre><code>class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {showModal: false};
    
    this.handleShow = this.handleShow.bind(this);
    this.handleHide = this.handleHide.bind(this);
  }

  handleShow() {
    this.setState({showModal: true});
  }
  
  handleHide() {
    this.setState({showModal: false});
  }

  render() {
    // Show a Modal on click.
    // (In a real app, don't forget to use ARIA attributes
    // for accessibility!)
    const modal = this.state.showModal ? (
      &lt;Modal&gt;
        &lt;div className=&quot;modal&quot;&gt;
          &lt;div&gt;
            With a portal, we can render content into a different
            part of the DOM, as if it were any other React child.
          &lt;/div&gt;
          This is being rendered inside the #modal-container div.
          &lt;button onClick={this.handleHide}&gt;Hide modal&lt;/button&gt;
        &lt;/div&gt;
      &lt;/Modal&gt;
    ) : null;

    return (
      &lt;div className=&quot;app&quot;&gt;
        This div has overflow: hidden.
        &lt;button onClick={this.handleShow}&gt;Show modal&lt;/button&gt;
        {modal}
      &lt;/div&gt;
    );
  }
}

</code></pre>
<h2 id="3-portalsåˆ›å»ºçš„ç»„ä»¶å­˜åœ¨äº‹ä»¶å†’æ³¡">3. Portalsåˆ›å»ºçš„ç»„ä»¶å­˜åœ¨äº‹ä»¶å†’æ³¡</h2>
<h1 id="20-ä½¿ç”¨createreactclassæ–¹æ³•åˆ›å»ºç»„ä»¶">20. ä½¿ç”¨createReactClass()æ–¹æ³•åˆ›å»ºç»„ä»¶</h1>
<blockquote>
<p>ä½¿ç”¨ <code>create-react-class</code> æ¨¡å—ä»£æ›¿Esä¸­classåˆ›å»ºç»„ä»¶çš„æ–¹æ³•</p>
</blockquote>
<h1 id="1-åŸºæœ¬ä½¿ç”¨">1. åŸºæœ¬ä½¿ç”¨</h1>
<ul>
<li>classåˆ›å»ºç»„ä»¶</li>
</ul>
<pre><code>class Greeting extends React.Component {
  render() {
    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;
  }
}
</code></pre>
<ul>
<li>createReactClassåˆ›å»ºç»„ä»¶</li>
</ul>
<pre><code>var createReactClass = require('create-react-class');
var Greeting = createReactClass({
  render: function() {
    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;
  }
});
</code></pre>
<h1 id="2-å£°æ˜é»˜è®¤å±æ€§props">2. å£°æ˜é»˜è®¤å±æ€§ï¼ˆpropsï¼‰</h1>
<ul>
<li>classä¸­å®šä¹‰defaultPropså±æ€§</li>
</ul>
<pre><code>class Greeting extends React.Component {
  // ...
}

Greeting.defaultProps = {
  name: 'Mary'
};
</code></pre>
<ul>
<li>createReactClassä½¿ç”¨defaultPropså±æ€§</li>
</ul>
<pre><code>var Greeting = createReactClass({
  getDefaultProps: function() {
    return {
      name: 'Mary'
    };
  },

  // ...

});
</code></pre>
<h2 id="3-åˆå§‹åŒ–state">3. åˆå§‹åŒ–state</h2>
<ul>
<li>classç»„ä»¶</li>
</ul>
<pre><code>class Counter extends React.Component {
  constructor(props) {
    super(props);
    this.state = {count: props.initialCount};
  }
  // ...
}
</code></pre>
<ul>
<li>createReactClassä¸­åˆ›å»ºstate</li>
</ul>
<pre><code>//getInitialStateæ–¹æ³•
var Counter = createReactClass({
  getInitialState: function() {
    return {count: this.props.initialCount};
  },
  // ...
});
</code></pre>
<h2 id="4-è‡ªåŠ¨ç»‘å®šthis">4. è‡ªåŠ¨ç»‘å®šthis</h2>
<ul>
<li>classä¸­<code>.bind(this)</code></li>
</ul>
<pre><code>class SayHello extends React.Component {
  constructor(props) {
    super(props);
    this.state = {message: 'Hello!'};
    // è¿™ä¸€è¡Œå¾ˆé‡è¦ï¼
    this.handleClick = this.handleClick.bind(this);
  }

  handleClick() {
    alert(this.state.message);
  }

  render() {
    // ç”±äº `this.handleClick` å·²ç»ç»‘å®šè‡³å®ä¾‹ï¼Œå› æ­¤æˆ‘ä»¬æ‰å¯ä»¥ç”¨å®ƒæ¥å¤„ç†ç‚¹å‡»äº‹ä»¶
    return (
      &lt;button onClick={this.handleClick}&gt;
        Say hello
      &lt;/button&gt;
    );
  }
}
</code></pre>
<ul>
<li>createReactClassä¸­ä¼šè‡ªåŠ¨ç»‘å®šè‡³å®ä¾‹</li>
</ul>
<pre><code>var SayHello = createReactClass({
  getInitialState: function() {
    return {message: 'Hello!'};
  },

  handleClick: function() {  //ç›´æ¥ä½¿ç”¨thiså®ä¾‹ä¸Šçš„å±æ€§
    alert(this.state.message);
  },

  render: function() {
    return (
      &lt;button onClick={this.handleClick}&gt;
        Say hello
      &lt;/button&gt;
    );
  }
});
</code></pre>
<h1 id="21-ä½¿ç”¨reactcreateelementè¯­æ³•ç³–">21. ä½¿ç”¨React.createElementè¯­æ³•ç³–</h1>
<h2 id="ä½¿ç”¨jsxæ—¶çš„è¯­æ³•">ä½¿ç”¨jsxæ—¶çš„è¯­æ³•</h2>
<pre><code>class Container from React.Component{
   construct(props){
       super(props)     
   }
   render(){
      return &lt;div name='test'&gt;container&lt;/div&gt;
   }
}
ReactDOM.render(&lt;Container /&gt; , document.getElementById(&quot;root&quot;))
</code></pre>
<h2 id="ä½¿ç”¨reactcreateelementè¯­æ³•ç³–">ä½¿ç”¨<code>React.createElement</code>è¯­æ³•ç³–</h2>
<blockquote>
<p><code>React.createElement(å…ƒç´ ç»„ä»¶åç§°, å±æ€§, ...children)</code></p>
</blockquote>
<pre><code>class Container from React.Component{
   construct(props){
       super(props)     
   }
   render(){
      return React.createElement('div', {name:'test'}, null)
   }
}
ReactDOM.render(React.createElement('Container',null,null) , document.getElementById(&quot;root&quot;))
</code></pre>
<h2 id="åˆ›å»ºreactcreateelementçš„å¿«æ·æ–¹å¼">åˆ›å»º<code>React.createElement</code>çš„å¿«æ·æ–¹å¼</h2>
<pre><code>const e = React.createElement;
ReactDOM.render(
  e('div', null, 'Hello World'),
  document.getElementById('root')
);
</code></pre>
<h1 id="22-hook">22. Hook</h1>
<h2 id="1-ç®€ä»‹-2">1. ç®€ä»‹</h2>
<h3 id="ç†è§£">ç†è§£</h3>
<blockquote>
<p>Hook å°±æ˜¯ JavaScript å‡½æ•°ã€‚</p>
</blockquote>
<h3 id="æ³¨æ„ç‚¹">æ³¨æ„ç‚¹ï¼š</h3>
<ol>
<li>åªèƒ½åœ¨å‡½æ•°æœ€å¤–å±‚è°ƒç”¨ Hookã€‚ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨ã€‚</li>
<li>åªèƒ½åœ¨ React çš„å‡½æ•°ç»„ä»¶ä¸­æˆ–è€…è‡ªå®šä¹‰çš„ Hook ä¸­è°ƒç”¨ Hookã€‚</li>
</ol>
<h2 id="2-hook-api">2. Hook API</h2>
<h3 id="usestate">useState</h3>
<blockquote>
<p>è¿”å›ä¸€ä¸ª stateï¼Œä»¥åŠæ›´æ–° state çš„å‡½æ•°ã€‚<br>
setStateå‚æ•°æ¥æ”¶ä¸€ä¸ªæ–°çš„stateå€¼</p>
</blockquote>
<pre><code>import React, { useState } from 'react';
const [state, setState] = useState(initialState);
</code></pre>
<blockquote>
<p>è®¡æ•°å™¨demoï¼š</p>
</blockquote>
<pre><code>// Babelç¯å¢ƒ
function ContainerButton(){
  const [count,setCount]=React.useState(0)
  const handleAdd=()=&gt;{
    setCount(count+1);
  }
  return (
    &lt;button onClick={handleAdd}&gt;ç‚¹å‡»{count}&lt;/button&gt;
  )  
}

ReactDOM.render(
  &lt;ContainerButton/&gt;,
  document.getElementById('root')
);

</code></pre>
<h3 id="useeffect">useEffect</h3>
<h4 id="åˆæ¬¡äº†è§£">åˆæ¬¡äº†è§£</h4>
<blockquote>
<p>èµ‹å€¼ç»™ useEffect çš„å‡½æ•°ä¼šåœ¨ç»„ä»¶æ¸²æŸ“åˆ°å±å¹•ä¹‹åæ‰§è¡Œã€‚</p>
</blockquote>
<blockquote>
<p>effect å°†åœ¨æ¯è½®æ¸²æŸ“ç»“æŸåæ‰§è¡Œï¼Œä½†ä½ å¯ä»¥é€‰æ‹©è®©å®ƒ åœ¨åªæœ‰æŸäº›å€¼æ”¹å˜çš„æ—¶å€™ æ‰æ‰§è¡Œã€‚</p>
</blockquote>
<blockquote>
<p>æ¯ä¸ª effect éƒ½å¯ä»¥è¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ã€‚React ä¼šåœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™æ‰§è¡Œæ¸…é™¤æ“ä½œã€‚</p>
</blockquote>
<h5 id="ä¸éœ€è¦æ¸…é™¤çš„effectæ“ä½œä½¿ç”¨">ä¸éœ€è¦æ¸…é™¤çš„effectæ“ä½œä½¿ç”¨</h5>
<pre><code>function ContainerButton(){
  const [count,setCount]=React.useState(0)
  const handleAdd=()=&gt;{
    setCount(count+1);
  }
   React.useEffect(() =&gt; {  //ä¼šåœ¨stateçŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æ‰§è¡Œ
       console.log(count)
  });
  return (
    &lt;button onClick={handleAdd}&gt;ç‚¹å‡»{count}&lt;/button&gt;
  )  
}

ReactDOM.render(
  &lt;ContainerButton/&gt;,
  document.getElementById('root')
);

</code></pre>
<h5 id="éœ€è¦æ¸…é™¤çš„effectæ“ä½œä½¿ç”¨">éœ€è¦æ¸…é™¤çš„effectæ“ä½œä½¿ç”¨</h5>
<blockquote>
<p>å‡è®¾è®¢é˜…ä¸€ä¸ªwsè¿æ¥ï¼Œç»„ä»¶æ¸²æŸ“åˆ°å±å¹•ä¹‹åæ‰“å¼€wsè¿æ¥ï¼Œç»„ä»¶å¸è½½æ—¶å…³é—­è¿æ¥</p>
</blockquote>
<pre><code>function Container(){
  const socket = new WebSocket('ws://localhost:8080');
   React.useEffect(() =&gt; {
     socket.addEventListener('open', function (event) {
           socket.send('Hello Server!');
     });
     return ()=&gt;{  //é”€æ¯æ—¶æ‰§è¡Œçš„äº‹ä»¶
     socket.addEventListener('close', function (event) {
           socket.send('WebSocket close!');
     });
     }
  });
  return (
    &lt;div&gt;WebSocket&lt;/div&gt;
  )  
}

ReactDOM.render(
  &lt;Container/&gt;,
  document.getElementById('root')
);

</code></pre>
<h4 id="è¯¦ç»†ç†è§£">è¯¦ç»†ç†è§£</h4>
<blockquote>
<p>æ¥æ”¶å‚æ•°ï¼š<br>
useEffect æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨ç»„ä»¶æ¸²æŸ“ä¹‹åæ‰§è¡Œã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒç”¨æ¥æŒ‡å®šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦æ‰§è¡Œè¿™ä¸ªå›è°ƒå‡½æ•°</p>
</blockquote>
<ol>
<li>åœ¨ç»„ä»¶æŒ‚è½½æ—¶åªè¯·æ±‚ä¸€æ¬¡æ•°æ®ï¼Œå°† useEffect çš„ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸ºç©ºæ•°ç»„ []</li>
</ol>
<pre><code>  useEffect(() =&gt; {
    // åœ¨ç»„ä»¶æŒ‚è½½æ—¶è¯·æ±‚æ•°æ®
    fetchData();
  }, []);
</code></pre>
<ol start="2">
<li>åœ¨æŸä¸ªçŠ¶æ€å˜åŒ–æ—¶é‡æ–°è¯·æ±‚æ•°æ®ï¼Œå¯ä»¥å°†éœ€è¦ç›‘è§†çš„çŠ¶æ€å˜é‡ä½œä¸º useEffect çš„ç¬¬äºŒä¸ªå‚æ•°</li>
</ol>
<pre><code>  useEffect(() =&gt; {
    // åœ¨ searchTerm å˜åŒ–æ—¶è¯·æ±‚æ•°æ®
    fetchData();
  }, [searchTerm]);

</code></pre>
<h3 id="usecontext">useContext</h3>
<p><code>const value = useContext(MyContext);</code></p>
<blockquote>
<p>æ¥æ”¶ä¸€ä¸ª context å¯¹è±¡ï¼ˆ<code>React.createContext</code> çš„è¿”å›å€¼ï¼‰å¹¶è¿”å›è¯¥ context çš„å½“å‰å€¼ã€‚å½“å‰çš„ context å€¼ç”±ä¸Šå±‚ç»„ä»¶ä¸­è·ç¦»å½“å‰ç»„ä»¶æœ€è¿‘çš„ <code>&lt;MyContext.Provider&gt; </code>çš„<code> value prop</code> å†³å®šã€‚</p>
</blockquote>
<blockquote>
<p>åŸºæœ¬ä½¿ç”¨</p>
</blockquote>
<pre><code>function Container(){
  const [count,setCount]=React.useState(0)
  const handleAddCount=()=&gt;{
    setCount(count+1)
  }
  return (
//     ä¼ é€’context
    &lt;CountContext.Provider value={count}&gt; 
    &lt;div&gt;&lt;ContainerButton handleAddCount={handleAddCount}/&gt;&lt;/div&gt;
    &lt;/CountContext.Provider&gt;  
  )  
}
function ContainerButton(props){
  const count = React.useContext(CountContext)  //è°ƒç”¨context
  return &lt;button onClick={props.handleAddCount}&gt;ç‚¹å‡»{count}&lt;/button&gt;
}
const CountContext=React.createContext(0) //åˆ›å»ºcontext
ReactDOM.render(
  &lt;Container/&gt;,
  document.getElementById('root')
);

</code></pre>
<h3 id="usereducer"><a href="https://react.docschina.org/docs/hooks-reference.html#usereducer">useReducer</a></h3>
<h2 id="usecallback"><a href="https://react.docschina.org/docs/hooks-reference.html#useCallback">useCallback</a></h2>
<pre><code>// é…åˆReact.memoä½¿ç”¨ï¼Œmemoå¯ä»¥é˜²æ­¢çˆ¶ç»„ä»¶çŠ¶æ€æ›´æ–°æ—¶å­ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚useCallbackå‡½æ•°ç¼“å­˜
import React, { useCallback, memo, useState } from &quot;react&quot;;
const Child = memo((props: { count: number }) =&gt; {
  //memoåŒ…è£¹å­ç»„ä»¶ä¸ä¼šé‡æ–°æ¸²æŸ“,propsæœ‰çˆ¶ç»„ä»¶å€¼æ˜¯ä¼šé‡æ–°æ¸²æŸ“
  console.log(&quot;å­ç»„ä»¶æ¸²æŸ“&quot;);
  return &lt;div&gt;å­ç»„ä»¶ {props.count}&lt;/div&gt;;
});
const UseCallbackDemo = () =&gt; {
  let [count, setCount] = useState&lt;number&gt;(0);
  const handleClick = useCallback(() =&gt; {
    setCount(++count);
  }, [count]);
  return (
    &lt;div&gt;
      &lt;button onClick={handleClick}&gt;ç‚¹å‡»&lt;/button&gt;
      &lt;Child count={count} /&gt;
    &lt;/div&gt;
  );
};

export default UseCallbackDemo;

</code></pre>
<h3 id="usememo"><a href="https://react.docschina.org/docs/hooks-reference.html#useMemo">useMemo</a></h3>
<h3 id="useref"><a href="https://react.docschina.org/docs/hooks-reference.html#useRef">useRef</a></h3>
<h3 id="useimperativehandle"><a href="https://react.docschina.org/docs/hooks-reference.html#useImperativeHandle">useImperativeHandle</a></h3>
<h3 id="uselayouteffect"><a href="https://react.docschina.org/docs/hooks-reference.html#useLayoutEffect">useLayoutEffect</a></h3>
<h3 id="usedebugvalue"><a href="https://react.docschina.org/docs/hooks-reference.html#useDebugValue">useDebugValue</a></h3>
<h3 id="usedeferredvalue"><a href="https://react.docschina.org/docs/hooks-reference.html#useDeferredValue">useDeferredValue</a></h3>
<h3 id="usetransition"><a href="https://react.docschina.org/docs/hooks-reference.html#useTransition">useTransition</a></h3>
<h3 id="useid"><a href="https://react.docschina.org/docs/hooks-reference.html#useId">useId</a></h3>
<h3 id="usesyncexternalstore"><a href="https://react.docschina.org/docs/hooks-reference.html#useSyncExternalStore">useSyncExternalStore</a></h3>
<h3 id="useinsertioneffect"><a href="https://react.docschina.org/docs/hooks-reference.html#useInsertionEffect">useInsertionEffect</a></h3>
<h2 id="3-è‡ªå®šä¹‰hookæ–¹æ³•">3. è‡ªå®šä¹‰Hookæ–¹æ³•</h2>
<ol>
<li>é€šè¿‡è‡ªå®šä¹‰ Hookï¼Œå¯ä»¥å°†ç»„ä»¶é€»è¾‘æå–åˆ°å¯é‡ç”¨çš„å‡½æ•°ä¸­ã€‚</li>
<li>è‡ªå®šä¹‰ Hook æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶åç§°ä»¥ â€œuseâ€ å¼€å¤´ï¼Œå‡½æ•°å†…éƒ¨å¯ä»¥è°ƒç”¨å…¶ä»–çš„ Hookã€‚</li>
</ol>
<blockquote>
<p>åˆ›å»º useTitle Hook Demo</p>
</blockquote>
<pre><code>import { useEffect } from 'react'

const useTitle = (title) =&gt; {
    useEffect(() =&gt; {
      document.title = title
    }, [])
  
    return
  }

export default useTitle
</code></pre>
<h1 id="reactå­¦ä¹ é“¾æ¥">Reactå­¦ä¹ é“¾æ¥</h1>
<h2 id="é¡¹ç›®ç½‘è¯¾">é¡¹ç›®ç½‘è¯¾</h2>
<p>https://www.bilibili.com/video/BV1Z44y1K7Fj/?p=99</p>
<h2 id="é¡¹ç›®æ­å»ºæ–‡ç« ">é¡¹ç›®æ­å»ºæ–‡ç« </h2>
<p>https://juejin.cn/post/7174412042013507615</p>

            </div>
            <div class="toc-container">
              <ul class="markdownIt-TOC">
<li><a href="#1-%E8%AE%A4%E8%AF%86react%E5%92%8C%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83">1. è®¤è¯†Reactå’Œæ­å»ºç¯å¢ƒ</a>
<ul>
<li><a href="#1-%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83">1. æ­å»ºç¯å¢ƒ</a>
<ul>
<li><a href="#1-1-%E4%BD%BF%E7%94%A8cdn%E9%93%BE%E6%8E%A5">1-1. ä½¿ç”¨cdné“¾æ¥</a></li>
<li><a href="#1-2%E4%BD%BF%E7%94%A8npm">1-2.ä½¿ç”¨npm</a></li>
<li><a href="#1-3%E4%BD%BF%E7%94%A8create-react-app%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83">1-3.ä½¿ç”¨create-react-appå¿«é€Ÿæ­å»ºç¯å¢ƒ</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#2-jsx%E7%AE%80%E4%BB%8B">2. jsxç®€ä»‹</a>
<ul>
<li><a href="#1-%E7%AE%80%E4%BB%8B">1. ç®€ä»‹</a></li>
<li><a href="#2-%E5%86%99%E4%B8%80%E4%B8%AAhello-world">2. å†™ä¸€ä¸ª<code>hello worldï¼</code></a></li>
<li><a href="#3jsx%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">3.jsxåŸºæœ¬ä½¿ç”¨</a>
<ul>
<li><a href="#3-1-jsx%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%B5%8C%E5%85%A5%E8%A1%A8%E8%BE%BE%E5%BC%8F">3-1. jsxä¸­ä½¿ç”¨<code>{}</code>åµŒå…¥è¡¨è¾¾å¼</a></li>
<li><a href="#3-2-jsx%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7">3-2. jsxå®šä¹‰å±æ€§</a></li>
<li><a href="#3-3-%E6%8C%87%E5%AE%9A%E5%AD%90%E5%85%83%E7%B4%A0">3-3. æŒ‡å®šå­å…ƒç´ </a></li>
<li><a href="#3-4-jsx%E8%A1%A8%E7%A4%BA%E5%AF%B9%E8%B1%A1">3-4. jsxè¡¨ç¤ºå¯¹è±¡</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#3-%E5%85%83%E7%B4%A0%E6%B8%B2%E6%9F%93">3. å…ƒç´ æ¸²æŸ“</a>
<ul>
<li><a href="#%E5%B0%86%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E6%B8%B2%E6%9F%93%E4%B8%BA-dom">å°†ä¸€ä¸ªå…ƒç´ æ¸²æŸ“ä¸º DOM</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E5%8A%A8%E6%80%81%E6%9B%B4%E6%96%B0jsx%E4%B8%AD%E7%9A%84%E5%80%BC">ä½¿ç”¨å‡½æ•°åŠ¨æ€æ›´æ–°jsxä¸­çš„å€¼</a></li>
</ul>
</li>
<li><a href="#4-%E7%BB%84%E4%BB%B6%E5%92%8Cprops">4. ç»„ä»¶å’Œprops</a>
<ul>
<li><a href="#1-%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E5%92%8Cclass%E7%BB%84%E4%BB%B6">1. å‡½æ•°ç»„ä»¶å’Œclassç»„ä»¶</a></li>
<li><a href="#2-%E6%9E%84%E5%BB%BA%E7%BB%84%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B">2. æ„å»ºç»„ä»¶çš„åŸºæœ¬æµç¨‹</a></li>
<li><a href="#3-%E7%BB%84%E5%90%88%E7%BB%84%E4%BB%B6">3. ç»„åˆç»„ä»¶</a></li>
<li><a href="#4-%E6%8F%90%E5%8F%96%E7%BB%84%E4%BB%B6">4. æå–ç»„ä»¶</a></li>
<li><a href="#5react%E7%9A%84props%E7%9A%84%E5%8F%AA%E8%AF%BB%E6%80%A7">5.Reactçš„Propsçš„åªè¯»æ€§</a></li>
</ul>
</li>
<li><a href="#5-state%E4%B8%8E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">5. stateä¸ç”Ÿå‘½å‘¨æœŸ</a>
<ul>
<li><a href="#1-%E4%BA%86%E8%A7%A3state">1. äº†è§£state</a></li>
<li><a href="#2-%E5%B0%86%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E8%BD%AC%E6%8D%A2%E4%B8%BAclass%E7%BB%84%E4%BB%B6">2. å°†å‡½æ•°ç»„ä»¶è½¬æ¢ä¸ºClassç»„ä»¶</a>
<ul>
<li><a href="#%E6%AD%A5%E9%AA%A4">æ­¥éª¤ï¼š</a></li>
</ul>
</li>
<li><a href="#3-%E5%AE%9E%E7%8E%B0%E7%BB%84%E4%BB%B6%E8%87%AA%E6%88%91%E6%9B%B4%E6%96%B0">3. å®ç°ç»„ä»¶è‡ªæˆ‘æ›´æ–°</a>
<ul>
<li><a href="#3-1-%E5%9C%A8%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E4%B8%AD%E5%8F%AF%E4%BB%A5%E6%B7%BB%E5%8A%A0%E5%AE%9A%E6%97%B6%E5%99%A8%E6%97%B6%E5%88%BB%E6%B8%B2%E6%9F%93%E7%BB%84%E4%BB%B6%E8%BE%BE%E5%88%B0%E8%87%AA%E5%B7%B1%E6%9B%B4%E6%96%B0%E7%9A%84%E6%95%88%E6%9E%9C">3-1. åœ¨å‡½æ•°ç»„ä»¶ä¸­å¯ä»¥æ·»åŠ å®šæ—¶å™¨ï¼Œæ—¶åˆ»æ¸²æŸ“ç»„ä»¶è¾¾åˆ°è‡ªå·±æ›´æ–°çš„æ•ˆæœ</a></li>
<li><a href="#3-2-%E5%90%91-class-%E7%BB%84%E4%BB%B6%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%B1%80%E9%83%A8%E7%9A%84-state%E6%B7%BB%E5%8A%A0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0%E7%BB%84%E4%BB%B6%E5%86%85%E9%83%A8%E6%B8%B2%E6%9F%93%E6%9B%B4%E6%96%B0">3-2. å‘ class ç»„ä»¶ä¸­æ·»åŠ å±€éƒ¨çš„ state,æ·»åŠ ç”Ÿå‘½å‘¨æœŸå‡½æ•°å®ç°ç»„ä»¶å†…éƒ¨æ¸²æŸ“æ›´æ–°</a>
<ul>
<li><a href="#1-%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA-class-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%84%B6%E5%90%8E%E5%9C%A8%E8%AF%A5%E5%87%BD%E6%95%B0%E4%B8%AD%E4%B8%BA-thisstate-%E8%B5%8B%E5%88%9D%E5%80%BC">1. æ·»åŠ ä¸€ä¸ª class æ„é€ å‡½æ•°ï¼Œç„¶ååœ¨è¯¥å‡½æ•°ä¸­ä¸º <code>this.state</code> èµ‹åˆå€¼ï¼š</a></li>
<li><a href="#2-%E6%8A%8A-render-%E6%96%B9%E6%B3%95%E4%B8%AD%E7%9A%84-thispropsdate-%E6%9B%BF%E6%8D%A2%E6%88%90-thisstatedate">2. æŠŠ <code>render()</code> æ–¹æ³•ä¸­çš„<code> this.props.date</code> æ›¿æ¢æˆ<code> this.state.date</code> ï¼š</a></li>
<li><a href="#3-%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8clock%E7%BB%84%E4%BB%B6">3. ç›´æ¥ä½¿ç”¨Clockç»„ä»¶</a></li>
<li><a href="#4-%E5%9C%A8class%E7%B1%BB%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95">4. åœ¨classç±»ä¸­ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#4-state%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">4. stateä½¿ç”¨æ³¨æ„äº‹é¡¹</a>
<ul>
<li><a href="#4-1-%E4%B8%8D%E8%A6%81%E7%9B%B4%E6%8E%A5%E4%BF%AE%E6%94%B9state%E8%80%8C%E6%98%AF%E4%BD%BF%E7%94%A8setstate%E6%96%B9%E6%B3%95">4-1. ä¸è¦ç›´æ¥ä¿®æ”¹state,è€Œæ˜¯ä½¿ç”¨<code>setState()</code>æ–¹æ³•</a></li>
<li><a href="#4-2-state%E5%92%8Cprops%E7%9A%84%E6%9B%B4%E6%96%B0%E6%98%AF%E5%BC%82%E6%AD%A5%E7%9A%84%E4%B8%8D%E8%A6%81%E4%BE%9D%E8%B5%96%E4%BB%96%E4%BB%AC%E7%9A%84%E5%80%BC%E6%9D%A5%E6%9B%B4%E6%96%B0%E4%B8%8B%E4%B8%80%E4%B8%AA%E7%8A%B6%E6%80%81%E8%80%8C%E6%98%AF%E4%BD%BF%E7%94%A8setstatestateprops">4-2. stateå’Œpropsçš„æ›´æ–°æ˜¯å¼‚æ­¥çš„,ä¸è¦ä¾èµ–ä»–ä»¬çš„å€¼æ¥æ›´æ–°ä¸‹ä¸€ä¸ªçŠ¶æ€,è€Œæ˜¯ä½¿ç”¨<code>setState((state,props)=&gt;{...})</code></a></li>
<li><a href="#4-3-state%E7%9A%84%E6%9B%B4%E6%96%B0%E4%BC%9A%E8%A2%AB%E5%90%88%E5%B9%B6">4-3. stateçš„æ›´æ–°ä¼šè¢«åˆå¹¶</a></li>
<li><a href="#4-4-%E6%95%B0%E6%8D%AE%E6%98%AF%E5%90%91%E4%B8%8B%E6%B5%81%E5%8A%A8%E7%9A%84">4-4. æ•°æ®æ˜¯å‘ä¸‹æµåŠ¨çš„</a></li>
</ul>
</li>
<li><a href="#5-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0">5. ç”Ÿå‘½å‘¨æœŸå‡½æ•°</a>
<ul>
<li><a href="#5-1-%E6%8C%82%E8%BD%BD%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0-componentdidmount">5-1. æŒ‚è½½ç”Ÿå‘½å‘¨æœŸå‡½æ•° <code>componentDidMount</code></a></li>
<li><a href="#5-2-%E5%8D%B8%E8%BD%BD%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0-componentwillunmount">5-2. å¸è½½ç”Ÿå‘½å‘¨æœŸå‡½æ•° <code>componentWillUnmount</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#6-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86">6. äº‹ä»¶å¤„ç†</a>
<ul>
<li><a href="#1-%E4%B8%8E%E4%BC%A0%E7%BB%9Fhtml%E7%9A%84%E5%86%99%E6%B3%95%E4%B8%8D%E5%90%8C">1. ä¸ä¼ ç»Ÿhtmlçš„å†™æ³•ä¸åŒ</a></li>
<li><a href="#2-%E5%86%99%E4%B8%80%E4%B8%AA%E8%AE%A1%E6%95%B0%E5%99%A8%E6%9D%A5%E4%BD%93%E9%AA%8C%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86">2. å†™ä¸€ä¸ªè®¡æ•°å™¨æ¥ä½“éªŒäº‹ä»¶å¤„ç†</a></li>
<li><a href="#3-%E5%90%91%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0">3. å‘äº‹ä»¶å¤„ç†ç¨‹åºä¼ é€’å‚æ•°</a>
<ul>
<li><a href="#3-1-%E9%80%9A%E8%BF%87%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1e%E4%BC%9A%E9%80%9A%E8%BF%87%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%8F%82%E6%95%B0%E6%98%BE%E7%A4%BA%E4%BC%A0%E9%80%92">3-1. é€šè¿‡ç®­å¤´å‡½æ•°ï¼ˆäº‹ä»¶å¯¹è±¡eä¼šé€šè¿‡ç¬¬äºŒä¸ªå‚æ•°æ˜¾ç¤ºä¼ é€’ï¼‰</a></li>
<li><a href="#3-2-%E4%BD%BF%E7%94%A8-functionprototypebind-%E6%9D%A5%E5%AE%9E%E7%8E%B0%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E4%BB%A5%E5%8F%8A%E6%9B%B4%E5%A4%9A%E7%9A%84%E5%8F%82%E6%95%B0%E5%B0%86%E4%BC%9A%E8%A2%AB%E9%9A%90%E5%BC%8F%E7%9A%84%E8%BF%9B%E8%A1%8C%E4%BC%A0%E9%80%92">3-2. ä½¿ç”¨ <code>Function.prototype.bind</code> æ¥å®ç°ï¼ˆäº‹ä»¶å¯¹è±¡ä»¥åŠæ›´å¤šçš„å‚æ•°å°†ä¼šè¢«éšå¼çš„è¿›è¡Œä¼ é€’ï¼‰</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#7-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93">7. æ¡ä»¶æ¸²æŸ“</a>
<ul>
<li><a href="#1-%E6%A0%B9%E6%8D%AE%E6%9D%A1%E4%BB%B6if%E5%88%A4%E6%96%AD%E7%BB%84%E4%BB%B6%E6%98%BE%E7%A4%BA">1. æ ¹æ®æ¡ä»¶<code>if</code>åˆ¤æ–­ç»„ä»¶æ˜¾ç¤º</a></li>
<li><a href="#2-%E5%9C%A8jsx%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6">2. åœ¨jsxä¸­ä½¿ç”¨æ¡ä»¶è¿ç®—ç¬¦</a></li>
<li><a href="#3-%E9%98%BB%E6%AD%A2%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93">3. é˜»æ­¢ç»„ä»¶æ¸²æŸ“</a></li>
</ul>
</li>
<li><a href="#8-%E5%88%97%E8%A1%A8%E5%92%8Ckey">8. åˆ—è¡¨å’Œkey</a>
<ul>
<li><a href="#1-%E5%9F%BA%E7%A1%80%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6">1. åŸºç¡€åˆ—è¡¨ç»„ä»¶</a></li>
<li><a href="#2%E4%BD%BF%E7%94%A8key">2.ä½¿ç”¨key</a>
<ul>
<li><a href="#2-1-key%E7%9A%84%E4%BD%BF%E7%94%A8">2-1. keyçš„ä½¿ç”¨</a></li>
<li><a href="#2-2-key%E7%9A%84%E7%90%86%E8%A7%A3%E5%92%8C%E6%B3%A8%E6%84%8F%E7%82%B9">2-2. keyçš„ç†è§£å’Œæ³¨æ„ç‚¹</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#9-%E8%A1%A8%E5%8D%95">9. è¡¨å•</a>
<ul>
<li><a href="#1-%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6">1. å—æ§ç»„ä»¶</a></li>
<li><a href="#2-%E9%9D%9E%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6">2. éå—æ§ç»„ä»¶</a></li>
<li><a href="#3-%E5%A4%84%E7%90%86%E5%A4%9A%E4%B8%AA%E8%BE%93%E5%85%A5">3. å¤„ç†å¤šä¸ªè¾“å…¥</a></li>
</ul>
</li>
<li><a href="#10-%E7%8A%B6%E6%80%81%E6%8F%90%E5%8D%87">10. çŠ¶æ€æå‡</a>
<ul>
<li><a href="#1-%E7%90%86%E8%A7%A3">1. ç†è§£</a></li>
<li><a href="#2-%E4%B8%BE%E4%BE%8B">2. ä¸¾ä¾‹</a></li>
<li><a href="#3-%E6%80%BB%E7%BB%93">3. æ€»ç»“</a></li>
</ul>
</li>
<li><a href="#11%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F">11.ç»„åˆæ¨¡å¼</a>
<ul>
<li><a href="#1-%E4%BD%BF%E7%94%A8propschildren">1. ä½¿ç”¨<code>props.children</code></a></li>
<li><a href="#2-%E6%8C%87%E5%AE%9A%E5%B1%9E%E6%80%A7%E5%90%8D">2. æŒ‡å®šå±æ€§å</a></li>
</ul>
</li>
<li><a href="#12-%E4%BB%A3%E7%A0%81%E5%88%86%E5%89%B2">12. ä»£ç åˆ†å‰²</a>
<ul>
<li><a href="#1-%E6%89%93%E5%8C%85%E6%A6%82%E5%BF%B5">1. æ‰“åŒ…æ¦‚å¿µ</a></li>
<li><a href="#2-%E4%BD%BF%E7%94%A8import">2. ä½¿ç”¨<code>import()</code></a></li>
<li><a href="#3-%E4%BD%BF%E7%94%A8reactlazy%E5%BC%95%E5%85%A5%E7%BB%84%E4%BB%B6">3. ä½¿ç”¨<code>React.lazy</code>å¼•å…¥ç»„ä»¶</a></li>
</ul>
</li>
<li><a href="#13-context">13. Context</a>
<ul>
<li><a href="#1%E7%90%86%E8%A7%A3">1.ç†è§£</a></li>
<li><a href="#2-api">2. API</a>
<ul>
<li><a href="#2-1-reactcreatecontext">2-1. React.createContext</a></li>
<li><a href="#2-2-contextprovider">2-2. Context.Provider</a></li>
<li><a href="#2-3-classcontexttype">2-3. Class.contextType</a></li>
<li><a href="#2-4-contextconsumer">2-4. Context.Consumer</a></li>
<li><a href="#2-5-contextdisplayname">2-5. Context.displayName</a></li>
</ul>
</li>
<li><a href="#3-%E5%8A%A8%E6%80%81context-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">3. åŠ¨æ€Context---åŸºæœ¬ä½¿ç”¨</a>
<ul>
<li><a href="#3-1-%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6">3-1. åˆ›å»ºç»„ä»¶</a></li>
<li><a href="#3-2-%E5%88%9B%E5%BB%BAcontext%E4%BD%BF%E7%94%A8contexttype%E5%B0%86context%E5%BC%95%E5%85%A5%E7%BB%84%E4%BB%B6%E5%86%85%E9%83%A8">3-2. åˆ›å»ºcontextï¼Œä½¿ç”¨contextTypeå°†contextå¼•å…¥ç»„ä»¶å†…éƒ¨</a></li>
<li><a href="#3-3-%E5%9C%A8app%E6%A0%B9%E7%BB%84%E4%BB%B6%E8%AE%BE%E7%BD%AEstatestate%E7%9A%84%E5%80%BC%E5%8C%85%E5%90%ABcontext%E7%9A%84%E5%B1%9E%E6%80%A7%E5%92%8C%E5%80%BC">3-3. åœ¨Appæ ¹ç»„ä»¶è®¾ç½®stateï¼Œstateçš„å€¼åŒ…å«contextçš„å±æ€§å’Œå€¼</a></li>
<li><a href="#3-4-%E5%9C%A8app%E5%86%85%E9%83%A8%E7%BB%84%E4%BB%B6%E4%B8%AD%E4%BC%A0%E9%80%92%E4%BA%8B%E4%BB%B6">3-4. åœ¨Appå†…éƒ¨ç»„ä»¶ä¸­ä¼ é€’äº‹ä»¶</a></li>
<li><a href="#3-5-%E6%89%80%E6%9C%89%E4%BB%A3%E7%A0%81">3-5. æ‰€æœ‰ä»£ç </a></li>
</ul>
</li>
<li><a href="#4-%E5%B5%8C%E5%A5%97%E7%BB%84%E4%BB%B6%E4%B8%AD%E6%9B%B4%E6%96%B0context">4. åµŒå¥—ç»„ä»¶ä¸­æ›´æ–°Context</a>
<ul>
<li><a href="#4-1-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAcontext">4-1. åˆ›å»ºä¸€ä¸ªcontext</a></li>
<li><a href="#4-2-%E5%9C%A8%E6%A0%B9%E7%BB%84%E4%BB%B6%E6%B7%BB%E5%8A%A0state">4-2. åœ¨æ ¹ç»„ä»¶æ·»åŠ state</a></li>
<li><a href="#4-3-%E5%9C%A8%E5%B5%8C%E7%BB%84%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8themecontextconsumer">4-3. åœ¨åµŒç»„ä»¶ä¸­ä½¿ç”¨<code>ThemeContext.Consumer</code></a></li>
</ul>
</li>
<li><a href="#5-%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6%E6%B6%88%E8%B4%B9%E5%A4%9A%E4%B8%AA-context">5. ä¸€ä¸ªç»„ä»¶æ¶ˆè´¹å¤šä¸ª Context</a>
<ul>
<li><a href="#5-1-%E7%BB%84%E4%BB%B6%E4%B8%AD%E6%8F%90%E4%BE%9B%E5%88%9D%E5%A7%8B-context-%E5%80%BC">5-1. ç»„ä»¶ä¸­æä¾›åˆå§‹ context å€¼</a></li>
<li><a href="#5-2-%E7%BB%84%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA-context">5-2. ç»„ä»¶ä¸­ä½¿ç”¨å¤šä¸ª context</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#14-%E9%94%99%E8%AF%AF%E8%BE%B9%E7%95%8C">14. é”™è¯¯è¾¹ç•Œ</a>
<ul>
<li><a href="#1-%E7%90%86%E8%A7%A3-2">1. ç†è§£</a></li>
<li><a href="#2-%E4%BD%BF%E7%94%A8">2. ä½¿ç”¨</a>
<ul>
<li><a href="#2-1-%E5%AE%9A%E4%B9%89%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%9C%A8%E9%9C%80%E8%A6%81%E7%9A%84%E5%9C%B0%E6%96%B9%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%AA%E7%BB%84%E4%BB%B6%E5%8C%85%E8%A3%B9%E5%AD%90%E7%BB%84%E4%BB%B6">2-1. å®šä¹‰å…¬å…±ç»„ä»¶ï¼Œåœ¨éœ€è¦çš„åœ°æ–¹ä½¿ç”¨è¿™ä¸ªç»„ä»¶åŒ…è£¹å­ç»„ä»¶</a></li>
<li><a href="#2-2-%E5%9C%A8%E7%BB%84%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8">2-2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</a></li>
</ul>
</li>
<li><a href="#3-%E6%B3%A8%E6%84%8F%E7%82%B9">3. æ³¨æ„ç‚¹</a></li>
</ul>
</li>
<li><a href="#15-refs%E8%BD%AC%E5%8F%91">15. Refsè½¬å‘</a>
<ul>
<li><a href="#1-%E4%BD%BF%E7%94%A8ref%E5%9C%A8%E7%BB%84%E4%BB%B6%E5%86%85%E9%83%A8%E8%8E%B7%E5%8F%96dom">1. ä½¿ç”¨Refåœ¨ç»„ä»¶å†…éƒ¨è·å–dom</a></li>
<li><a href="#2-%E8%BD%AC%E5%8F%91%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84refs">2. è½¬å‘è‡ªå®šä¹‰ç»„ä»¶ä¸­çš„refs</a></li>
<li><a href="#3-%E5%9C%A8%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6%E4%B8%AD%E8%BD%AC%E5%8F%91-refs">3. åœ¨é«˜é˜¶ç»„ä»¶ä¸­è½¬å‘ refs</a></li>
<li><a href="#4-%E5%9C%A8-devtools-%E4%B8%AD%E6%98%BE%E7%A4%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E5%90%8D%E7%A7%B0">4. åœ¨ DevTools ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰åç§°</a></li>
</ul>
</li>
<li><a href="#16-fragments">16. Fragments</a>
<ul>
<li><a href="#1-%E7%90%86%E8%A7%A3-3">1. ç†è§£</a></li>
<li><a href="#2-%E4%BD%BF%E7%94%A8-2">2. ä½¿ç”¨</a>
<ul>
<li><a href="#2-1-reactfragment">2-1. <code>React.Fragment</code></a></li>
<li><a href="#2-2-%E7%9F%AD%E8%AF%AD%E6%B3%95">2-2. çŸ­è¯­æ³•</a></li>
</ul>
</li>
<li><a href="#3-fragments%E5%8F%AF%E4%BC%A0%E9%80%92key%E5%B1%9E%E6%80%A7">3. Fragmentså¯ä¼ é€’keyå±æ€§</a></li>
</ul>
</li>
<li><a href="#17-%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6">17. é«˜é˜¶ç»„ä»¶</a>
<ul>
<li><a href="#1-%E7%90%86%E8%A7%A3-4">1. ç†è§£</a></li>
</ul>
</li>
<li><a href="#18-jsx%E8%AF%A6%E8%A7%A3">18. jsxè¯¦è§£</a>
<ul>
<li><a href="#1-jsx%E7%BC%96%E8%AF%91%E7%9A%84%E7%BB%93%E6%9E%9C">1. Jsxç¼–è¯‘çš„ç»“æœ</a></li>
<li><a href="#2-react%E5%BF%85%E9%A1%BB%E5%9C%A8%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%85">2. Reactå¿…é¡»åœ¨ä½œç”¨åŸŸå†…</a></li>
<li><a href="#3-%E4%BD%BF%E7%94%A8%E7%82%B9%E8%AF%AD%E6%B3%95%E6%9D%A5%E5%BC%95%E7%94%A8%E4%B8%80%E4%B8%AA-react-%E7%BB%84%E4%BB%B6">3. ä½¿ç”¨ç‚¹è¯­æ³•æ¥å¼•ç”¨ä¸€ä¸ª React ç»„ä»¶</a></li>
<li><a href="#4-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E7%BB%84%E4%BB%B6%E5%BF%85%E9%A1%BB%E4%BB%A5%E5%A4%A7%E5%86%99%E5%AD%97%E6%AF%8D%E5%BC%80%E5%A4%B4">4. è‡ªå®šä¹‰çš„ç»„ä»¶å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´</a></li>
<li><a href="#5-props%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F">5. propså¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼</a></li>
<li><a href="#6-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AD%97%E9%9D%A2%E9%87%8F">6. å­—ç¬¦ä¸²å­—é¢é‡</a></li>
<li><a href="#7-props-%E9%BB%98%E8%AE%A4%E5%80%BC%E4%B8%BA-true">7. Props é»˜è®¤å€¼ä¸º â€œTrueâ€</a></li>
<li><a href="#8-%E5%B1%9E%E6%80%A7%E5%B1%95%E5%BC%80">8. å±æ€§å±•å¼€</a></li>
<li><a href="#9-%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B-null-%E4%BB%A5%E5%8F%8A-undefined-%E5%B0%86%E4%BC%9A%E5%BF%BD%E7%95%A5">9. å¸ƒå°”ç±»å‹ã€Null ä»¥åŠ Undefined å°†ä¼šå¿½ç•¥</a></li>
</ul>
</li>
<li><a href="#19-portals">19. Portals</a>
<ul>
<li><a href="#1-%E7%90%86%E8%A7%A3-5">1. ç†è§£</a></li>
<li><a href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">2. åŸºæœ¬ä½¿ç”¨</a></li>
<li><a href="#3-portals%E5%88%9B%E5%BB%BA%E7%9A%84%E7%BB%84%E4%BB%B6%E5%AD%98%E5%9C%A8%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1">3. Portalsåˆ›å»ºçš„ç»„ä»¶å­˜åœ¨äº‹ä»¶å†’æ³¡</a></li>
</ul>
</li>
<li><a href="#20-%E4%BD%BF%E7%94%A8createreactclass%E6%96%B9%E6%B3%95%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6">20. ä½¿ç”¨createReactClass()æ–¹æ³•åˆ›å»ºç»„ä»¶</a></li>
<li><a href="#1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">1. åŸºæœ¬ä½¿ç”¨</a></li>
<li><a href="#2-%E5%A3%B0%E6%98%8E%E9%BB%98%E8%AE%A4%E5%B1%9E%E6%80%A7props">2. å£°æ˜é»˜è®¤å±æ€§ï¼ˆpropsï¼‰</a>
<ul>
<li><a href="#3-%E5%88%9D%E5%A7%8B%E5%8C%96state">3. åˆå§‹åŒ–state</a></li>
<li><a href="#4-%E8%87%AA%E5%8A%A8%E7%BB%91%E5%AE%9Athis">4. è‡ªåŠ¨ç»‘å®šthis</a></li>
</ul>
</li>
<li><a href="#21-%E4%BD%BF%E7%94%A8reactcreateelement%E8%AF%AD%E6%B3%95%E7%B3%96">21. ä½¿ç”¨React.createElementè¯­æ³•ç³–</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8jsx%E6%97%B6%E7%9A%84%E8%AF%AD%E6%B3%95">ä½¿ç”¨jsxæ—¶çš„è¯­æ³•</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8reactcreateelement%E8%AF%AD%E6%B3%95%E7%B3%96">ä½¿ç”¨<code>React.createElement</code>è¯­æ³•ç³–</a></li>
<li><a href="#%E5%88%9B%E5%BB%BAreactcreateelement%E7%9A%84%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F">åˆ›å»º<code>React.createElement</code>çš„å¿«æ·æ–¹å¼</a></li>
</ul>
</li>
<li><a href="#22-hook">22. Hook</a>
<ul>
<li><a href="#1-%E7%AE%80%E4%BB%8B-2">1. ç®€ä»‹</a>
<ul>
<li><a href="#%E7%90%86%E8%A7%A3">ç†è§£</a></li>
<li><a href="#%E6%B3%A8%E6%84%8F%E7%82%B9">æ³¨æ„ç‚¹ï¼š</a></li>
</ul>
</li>
<li><a href="#2-hook-api">2. Hook API</a>
<ul>
<li><a href="#usestate">useState</a></li>
<li><a href="#useeffect">useEffect</a>
<ul>
<li><a href="#%E5%88%9D%E6%AC%A1%E4%BA%86%E8%A7%A3">åˆæ¬¡äº†è§£</a>
<ul>
<li><a href="#%E4%B8%8D%E9%9C%80%E8%A6%81%E6%B8%85%E9%99%A4%E7%9A%84effect%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8">ä¸éœ€è¦æ¸…é™¤çš„effectæ“ä½œä½¿ç”¨</a></li>
<li><a href="#%E9%9C%80%E8%A6%81%E6%B8%85%E9%99%A4%E7%9A%84effect%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8">éœ€è¦æ¸…é™¤çš„effectæ“ä½œä½¿ç”¨</a></li>
</ul>
</li>
<li><a href="#%E8%AF%A6%E7%BB%86%E7%90%86%E8%A7%A3">è¯¦ç»†ç†è§£</a></li>
</ul>
</li>
<li><a href="#usecontext">useContext</a></li>
<li><a href="#usereducer">useReducer</a></li>
</ul>
</li>
<li><a href="#usecallback">useCallback</a>
<ul>
<li><a href="#usememo">useMemo</a></li>
<li><a href="#useref">useRef</a></li>
<li><a href="#useimperativehandle">useImperativeHandle</a></li>
<li><a href="#uselayouteffect">useLayoutEffect</a></li>
<li><a href="#usedebugvalue">useDebugValue</a></li>
<li><a href="#usedeferredvalue">useDeferredValue</a></li>
<li><a href="#usetransition">useTransition</a></li>
<li><a href="#useid">useId</a></li>
<li><a href="#usesyncexternalstore">useSyncExternalStore</a></li>
<li><a href="#useinsertioneffect">useInsertionEffect</a></li>
</ul>
</li>
<li><a href="#3-%E8%87%AA%E5%AE%9A%E4%B9%89hook%E6%96%B9%E6%B3%95">3. è‡ªå®šä¹‰Hookæ–¹æ³•</a></li>
</ul>
</li>
<li><a href="#react%E5%AD%A6%E4%B9%A0%E9%93%BE%E6%8E%A5">Reactå­¦ä¹ é“¾æ¥</a>
<ul>
<li><a href="#%E9%A1%B9%E7%9B%AE%E7%BD%91%E8%AF%BE">é¡¹ç›®ç½‘è¯¾</a></li>
<li><a href="#%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E6%96%87%E7%AB%A0">é¡¹ç›®æ­å»ºæ–‡ç« </a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </article>
      </div>

      
      <div class="next-post">
        <div class="next">ä¸‹ä¸€ç¯‡</div>
        <a href="https://qin_hu.gitee.io/blog/post/da-bao-vite-qian-duan-xiang-mu-da-bao-an-huan-jing-qu-fen-lu-jing/">
          <h3 class="post-title">
            æ‰“åŒ… - viteå‰ç«¯é¡¹ç›®æ‰“åŒ…æŒ‰ç¯å¢ƒåŒºåˆ†è·¯å¾„
          </h3>
        </a>
      </div>
      

      

      <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://qin_hu.gitee.io/blog//atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>
<div id="backtop">
    <a href="#backtop" class="backTop" title="å›åˆ°é¡¶éƒ¨">
        <svg t="1702280870845" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="5528" width="50" height="50">
            <path
                d="M679.936 482.176l0.32-0.32-157.44-157.44c-6.912-6.912-18.112-6.912-25.024 0L342.4 479.872 342.592 480c-10.88 11.776-6.208 34.624 10.816 51.648s39.872 21.632 51.648 10.816L405.12 542.592l62.336-62.336 0 195.648c0 24 19.392 43.52 43.392 43.52s43.392-19.52 43.392-43.52L554.24 481.28l61.696 61.696c0.064 0.064 0.064 0.064 0.128 0.128l0.128 0.064 1.408 1.408 0.192-0.192c12.032 9.728 33.984 4.928 50.56-11.584C684.8 516.16 689.6 494.208 679.936 482.176z"
                fill="#8F9EB230" p-id="5529"></path>
            <path
                d="M512 64C264.576 64 64 264.576 64 512s200.576 448 448 448c247.36 0 448-200.64 448-448S759.36 64 512 64zM512 864.256c-194.56 0-352.192-157.76-352.192-352.256C159.808 317.504 317.44 159.808 512 159.808c194.496 0 352.192 157.696 352.192 352.192C864.192 706.496 706.496 864.256 512 864.256z"
                fill="#8F9EB230" p-id="5530"></path>
        </svg>
    </a>
</div>
<style>
.backTop {
  width: 50px;
  height: 50px;
  position: fixed;
  bottom: 50px;
  right: 50px;
  text-align: center;
  line-height: 50px;
  transition: .5s ease-in-out;

}

.backTop:hover {
  transform: translateY(15px);
}

#backtop {
  position: absolute;
  top: 0px;
  z-index: 100;
  opacity: 0;
}
</style>
<script>
    const bodyDom = document.querySelector('body')
    const backTopDom = document.querySelector('#backtop')
    document.addEventListener('scroll', (e) => {
        // console.log(bodyDom.scrollTop)
        if (bodyDom.scrollTop > 3550) {
            backTopDom.style.opacity = 1
        } else {
            backTopDom.style.opacity = 0
        }
    })
</script>
      <!-- <div class="theme">
    <input class="switch-input" id="theme-switch" type="checkbox">
    <label class="switch-control" for="theme-switch"></label>
    <div class="container"></div>
</div>
 -->
    </div>
  </div>

  <script>
    // hljs.initHighlightingOnLoad()
    // hljs.highlightAll();
    document.addEventListener('DOMContentLoaded', () => {
      hljs.highlightAll();
    });
    let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

    // This should probably be throttled.
    // Especially because it triggers during smooth scrolling.
    // https://lodash.com/docs/4.17.10#throttle
    // You could do like...
    // window.addEventListener("scroll", () => {
    //    _.throttle(doThatStuff, 100);
    // });
    // Only not doing it here to keep this Pen dependency-free.

    window.addEventListener("scroll", event => {
      let fromTop = window.scrollY;

      mainNavLinks.forEach((link, index) => {
        let section = document.getElementById(decodeURI(link.hash).substring(1));
        let nextSection = null
        if (mainNavLinks[index + 1]) {
          nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
        }
        if (section.offsetTop <= fromTop) {
          if (nextSection) {
            if (nextSection.offsetTop > fromTop) {
              link.classList.add("current");
            } else {
              link.classList.remove("current");
            }
          } else {
            link.classList.add("current");
          }
        } else {
          link.classList.remove("current");
        }
      });
    });
  </script>
</body>

</html>